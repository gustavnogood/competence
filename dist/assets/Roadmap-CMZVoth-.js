import{p as ae,j as H,L as fi}from"./index-DZTrF67c.js";import{g as or,c as hi,r as k,a as di,R as q}from"./react-Da8D78aN.js";import{A as pi,U as gi}from"./UnauthenticatedTemplate-CLg0yTux.js";import mi from"./Login-CAL6Ert9.js";import{a as vi}from"./axiosInstance-1FSfQN3n.js";import"./axios-Bo0ATomq.js";function yi(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function _i(){return this.eachAfter(yi)}function wi(e){var t=this,n,r=[t],i,o,s;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),i=t.children,i)for(o=0,s=i.length;o<s;++o)r.push(i[o]);while(r.length);return this}function Ti(e){for(var t=this,n=[t],r,i;t=n.pop();)if(e(t),r=t.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function Di(e){for(var t=this,n=[t],r=[],i,o,s;t=n.pop();)if(r.push(t),i=t.children,i)for(o=0,s=i.length;o<s;++o)n.push(i[o]);for(;t=r.pop();)e(t);return this}function bi(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function xi(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Si(e){for(var t=this,n=Oi(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Oi(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Ei(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Ci(){var e=[];return this.each(function(t){e.push(t)}),e}function Ni(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Ii(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function en(e,t){var n=new Rt(e),r=+e.value&&(n.value=e.value),i,o=[n],s,a,c,u;for(t==null&&(t=Ri);i=o.pop();)if(r&&(i.value=+i.data.value),(a=t(i.data))&&(u=a.length))for(i.children=new Array(u),c=u-1;c>=0;--c)o.push(s=i.children[c]=new Rt(a[c])),s.parent=i,s.depth=i.depth+1;return n.eachBefore(Ai)}function Mi(){return en(this).eachBefore(Pi)}function Ri(e){return e.children}function Pi(e){e.data=e.data.data}function Ai(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Rt(e){this.data=e,this.depth=this.height=0,this.parent=null}Rt.prototype=en.prototype={constructor:Rt,count:_i,each:wi,eachAfter:Di,eachBefore:Ti,sum:bi,sort:xi,path:Si,ancestors:Ei,descendants:Ci,leaves:Ni,links:Ii,copy:Mi};function ki(e,t){return e.parent===t.parent?1:2}function ye(e){var t=e.children;return t?t[0]:e.t}function _e(e){var t=e.children;return t?t[t.length-1]:e.t}function Li(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function $i(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function zi(e,t,n){return e.a.parent===t.parent?e.a:n}function Vt(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Vt.prototype=Object.create(Rt.prototype);function Fi(e){for(var t=new Vt(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new Vt(o[s],s)),i.parent=n;return(t.parent=new Vt(null,0)).children=[t],t}function Hi(){var e=ki,t=1,n=1,r=null;function i(u){var l=Fi(u);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),r)u.eachBefore(c);else{var d=u,f=u,h=u;u.eachBefore(function(m){m.x<d.x&&(d=m),m.x>f.x&&(f=m),m.depth>h.depth&&(h=m)});var D=d===f?1:e(d,f)/2,b=D-d.x,C=t/(f.x+D+b),_=n/(h.depth||1);u.eachBefore(function(m){m.x=(m.x+b)*C,m.y=m.depth*_})}return u}function o(u){var l=u.children,d=u.parent.children,f=u.i?d[u.i-1]:null;if(l){$i(u);var h=(l[0].z+l[l.length-1].z)/2;f?(u.z=f.z+e(u._,f._),u.m=u.z-h):u.z=h}else f&&(u.z=f.z+e(u._,f._));u.parent.A=a(u,f,u.parent.A||d[0])}function s(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function a(u,l,d){if(l){for(var f=u,h=u,D=l,b=f.parent.children[0],C=f.m,_=h.m,m=D.m,y=b.m,E;D=_e(D),f=ye(f),D&&f;)b=ye(b),h=_e(h),h.a=u,E=D.z+m-f.z-C+e(D._,f._),E>0&&(Li(zi(D,u,d),u,E),C+=E,_+=E),m+=D.m,C+=f.m,y+=b.m,_+=h.m;D&&!_e(h)&&(h.t=D,h.m+=m-_),f&&!ye(b)&&(b.t=f,b.m+=C-y,d=u)}return d}function c(u){u.x*=t,u.y=u.depth*n}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(r=!1,t=+u[0],n=+u[1],i):r?null:[t,n]},i.nodeSize=function(u){return arguments.length?(r=!0,t=+u[0],n=+u[1],i):r?[t,n]:null},i}var Pe="http://www.w3.org/1999/xhtml";const Dn={svg:"http://www.w3.org/2000/svg",xhtml:Pe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ue(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Dn.hasOwnProperty(t)?{space:Dn[t],local:e}:e}function Ui(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Pe&&t.documentElement.namespaceURI===Pe?t.createElement(e):t.createElementNS(n,e)}}function qi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sr(e){var t=ue(e);return(t.local?qi:Ui)(t)}function ji(){}function nn(e){return e==null?ji:function(){return this.querySelector(e)}}function Gi(e){typeof e!="function"&&(e=nn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),c,u,l=0;l<s;++l)(c=o[l])&&(u=e.call(c,c.__data__,l,o))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new Q(r,this._parents)}function Wi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Bi(){return[]}function ar(e){return e==null?Bi:function(){return this.querySelectorAll(e)}}function Vi(e){return function(){return Wi(e.apply(this,arguments))}}function Xi(e){typeof e=="function"?e=Vi(e):e=ar(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),i.push(c));return new Q(r,i)}function ur(e){return function(){return this.matches(e)}}function cr(e){return function(t){return t.matches(e)}}var Yi=Array.prototype.find;function Ki(e){return function(){return Yi.call(this.children,e)}}function Qi(){return this.firstElementChild}function Zi(e){return this.select(e==null?Qi:Ki(typeof e=="function"?e:cr(e)))}var Ji=Array.prototype.filter;function to(){return Array.from(this.children)}function eo(e){return function(){return Ji.call(this.children,e)}}function no(e){return this.selectAll(e==null?to:eo(typeof e=="function"?e:cr(e)))}function ro(e){typeof e!="function"&&(e=ur(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new Q(r,this._parents)}function lr(e){return new Array(e.length)}function io(){return new Q(this._enter||this._groups.map(lr),this._parents)}function Jt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Jt.prototype={constructor:Jt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function oo(e){return function(){return e}}function so(e,t,n,r,i,o){for(var s=0,a,c=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Jt(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function ao(e,t,n,r,i,o,s){var a,c,u=new Map,l=t.length,d=o.length,f=new Array(l),h;for(a=0;a<l;++a)(c=t[a])&&(f[a]=h=s.call(c,c.__data__,a,t)+"",u.has(h)?i[a]=c:u.set(h,c));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(c=u.get(h))?(r[a]=c,c.__data__=o[a],u.delete(h)):n[a]=new Jt(e,o[a]);for(a=0;a<l;++a)(c=t[a])&&u.get(f[a])===c&&(i[a]=c)}function uo(e){return e.__data__}function co(e,t){if(!arguments.length)return Array.from(this,uo);var n=t?ao:so,r=this._parents,i=this._groups;typeof e!="function"&&(e=oo(e));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],d=i[u],f=d.length,h=lo(e.call(l,l&&l.__data__,u,r)),D=h.length,b=a[u]=new Array(D),C=s[u]=new Array(D),_=c[u]=new Array(f);n(l,d,b,C,_,h,t);for(var m=0,y=0,E,w;m<D;++m)if(E=b[m]){for(m>=y&&(y=m+1);!(w=C[y])&&++y<D;);E._next=w||null}}return s=new Q(s,r),s._enter=a,s._exit=c,s}function lo(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fo(){return new Q(this._exit||this._groups.map(lr),this._parents)}function ho(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function po(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],l=r[c],d=u.length,f=a[c]=new Array(d),h,D=0;D<d;++D)(h=u[D]||l[D])&&(f[D]=h);for(;c<i;++c)a[c]=n[c];return new Q(a,this._parents)}function go(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function mo(e){e||(e=vo);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(t)}return new Q(i,this._parents).order()}function vo(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function yo(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _o(){return Array.from(this)}function wo(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function To(){let e=0;for(const t of this)++e;return e}function Do(){return!this.node()}function bo(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function xo(e){return function(){this.removeAttribute(e)}}function So(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oo(e,t){return function(){this.setAttribute(e,t)}}function Eo(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Co(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function No(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Io(e,t){var n=ue(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?So:xo:typeof t=="function"?n.local?No:Co:n.local?Eo:Oo)(n,t))}function fr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mo(e){return function(){this.style.removeProperty(e)}}function Ro(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Po(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ao(e,t,n){return arguments.length>1?this.each((t==null?Mo:typeof t=="function"?Po:Ro)(e,t,n??"")):Dt(this.node(),e)}function Dt(e,t){return e.style.getPropertyValue(t)||fr(e).getComputedStyle(e,null).getPropertyValue(t)}function ko(e){return function(){delete this[e]}}function Lo(e,t){return function(){this[e]=t}}function $o(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function zo(e,t){return arguments.length>1?this.each((t==null?ko:typeof t=="function"?$o:Lo)(e,t)):this.node()[e]}function hr(e){return e.trim().split(/^|\s+/)}function rn(e){return e.classList||new dr(e)}function dr(e){this._node=e,this._names=hr(e.getAttribute("class")||"")}dr.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function pr(e,t){for(var n=rn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function gr(e,t){for(var n=rn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fo(e){return function(){pr(this,e)}}function Ho(e){return function(){gr(this,e)}}function Uo(e,t){return function(){(t.apply(this,arguments)?pr:gr)(this,e)}}function qo(e,t){var n=hr(e+"");if(arguments.length<2){for(var r=rn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Uo:t?Fo:Ho)(n,t))}function jo(){this.textContent=""}function Go(e){return function(){this.textContent=e}}function Wo(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Bo(e){return arguments.length?this.each(e==null?jo:(typeof e=="function"?Wo:Go)(e)):this.node().textContent}function Vo(){this.innerHTML=""}function Xo(e){return function(){this.innerHTML=e}}function Yo(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ko(e){return arguments.length?this.each(e==null?Vo:(typeof e=="function"?Yo:Xo)(e)):this.node().innerHTML}function Qo(){this.nextSibling&&this.parentNode.appendChild(this)}function Zo(){return this.each(Qo)}function Jo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ts(){return this.each(Jo)}function es(e){var t=typeof e=="function"?e:sr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ns(){return null}function rs(e,t){var n=typeof e=="function"?e:sr(e),r=t==null?ns:typeof t=="function"?t:nn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function is(){var e=this.parentNode;e&&e.removeChild(this)}function os(){return this.each(is)}function ss(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function as(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function us(e){return this.select(e?as:ss)}function cs(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ls(e){return function(t){e.call(this,t,this.__data__)}}function fs(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hs(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function ds(e,t,n){return function(){var r=this.__on,i,o=ls(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function ps(e,t,n){var r=fs(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(i=0,l=a[c];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=t?ds:hs,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function mr(e,t,n){var r=fr(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function gs(e,t){return function(){return mr(this,e,t)}}function ms(e,t){return function(){return mr(this,e,t.apply(this,arguments))}}function vs(e,t){return this.each((typeof t=="function"?ms:gs)(e,t))}function*ys(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var vr=[null];function Q(e,t){this._groups=e,this._parents=t}function $t(){return new Q([[document.documentElement]],vr)}function _s(){return this}Q.prototype=$t.prototype={constructor:Q,select:Gi,selectAll:Xi,selectChild:Zi,selectChildren:no,filter:ro,data:co,enter:io,exit:fo,join:ho,merge:po,selection:_s,order:go,sort:mo,call:yo,nodes:_o,node:wo,size:To,empty:Do,each:bo,attr:Io,style:Ao,property:zo,classed:qo,text:Bo,html:Ko,raise:Zo,lower:ts,append:es,insert:rs,remove:os,clone:us,datum:cs,on:ps,dispatch:vs,[Symbol.iterator]:ys};function V(e){return typeof e=="string"?new Q([[document.querySelector(e)]],[document.documentElement]):new Q([[e]],vr)}function ws(e){let t;for(;t=e.sourceEvent;)e=t;return e}function pt(e,t){if(e=ws(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var Ts={value:()=>{}};function on(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Xt(n)}function Xt(e){this._=e}function Ds(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Xt.prototype=on.prototype={constructor:Xt,on:function(e,t){var n=this._,r=Ds(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=bs(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=bn(n[i],e.name,t);else if(t==null)for(i in n)n[i]=bn(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Xt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function bs(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function bn(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ts,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}const Ae={capture:!0,passive:!1};function ke(e){e.preventDefault(),e.stopImmediatePropagation()}function xs(e){var t=e.document.documentElement,n=V(e).on("dragstart.drag",ke,Ae);"onselectstart"in t?n.on("selectstart.drag",ke,Ae):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ss(e,t){var n=e.document.documentElement,r=V(e).on("dragstart.drag",null);t&&(r.on("click.drag",ke,Ae),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function sn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function zt(){}var Pt=.7,te=1/Pt,Tt="\\s*([+-]?\\d+)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Os=/^#([0-9a-f]{3,8})$/,Es=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),Cs=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),Ns=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${At}\\)$`),Is=new RegExp(`^rgba\\(${st},${st},${st},${At}\\)$`),Ms=new RegExp(`^hsl\\(${At},${st},${st}\\)$`),Rs=new RegExp(`^hsla\\(${At},${st},${st},${At}\\)$`),xn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sn(zt,kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Sn,formatHex:Sn,formatHex8:Ps,formatHsl:As,formatRgb:On,toString:On});function Sn(){return this.rgb().formatHex()}function Ps(){return this.rgb().formatHex8()}function As(){return _r(this).formatHsl()}function On(){return this.rgb().formatRgb()}function kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Os.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?En(t):n===3?new X(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ft(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ft(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Es.exec(e))?new X(t[1],t[2],t[3],1):(t=Cs.exec(e))?new X(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ns.exec(e))?Ft(t[1],t[2],t[3],t[4]):(t=Is.exec(e))?Ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ms.exec(e))?In(t[1],t[2]/100,t[3]/100,1):(t=Rs.exec(e))?In(t[1],t[2]/100,t[3]/100,t[4]):xn.hasOwnProperty(e)?En(xn[e]):e==="transparent"?new X(NaN,NaN,NaN,0):null}function En(e){return new X(e>>16&255,e>>8&255,e&255,1)}function Ft(e,t,n,r){return r<=0&&(e=t=n=NaN),new X(e,t,n,r)}function ks(e){return e instanceof zt||(e=kt(e)),e?(e=e.rgb(),new X(e.r,e.g,e.b,e.opacity)):new X}function Le(e,t,n,r){return arguments.length===1?ks(e):new X(e,t,n,r??1)}function X(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}sn(X,Le,yr(zt,{brighter(e){return e=e==null?te:Math.pow(te,e),new X(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Pt:Math.pow(Pt,e),new X(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new X(vt(this.r),vt(this.g),vt(this.b),ee(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cn,formatHex:Cn,formatHex8:Ls,formatRgb:Nn,toString:Nn}));function Cn(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function Ls(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nn(){const e=ee(this.opacity);return`${e===1?"rgb(":"rgba("}${vt(this.r)}, ${vt(this.g)}, ${vt(this.b)}${e===1?")":`, ${e})`}`}function ee(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mt(e){return e=vt(e),(e<16?"0":"")+e.toString(16)}function In(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new nt(e,t,n,r)}function _r(e){if(e instanceof nt)return new nt(e.h,e.s,e.l,e.opacity);if(e instanceof zt||(e=kt(e)),!e)return new nt;if(e instanceof nt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new nt(s,a,c,e.opacity)}function $s(e,t,n,r){return arguments.length===1?_r(e):new nt(e,t,n,r??1)}function nt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}sn(nt,$s,yr(zt,{brighter(e){return e=e==null?te:Math.pow(te,e),new nt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Pt:Math.pow(Pt,e),new nt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new X(we(e>=240?e-240:e+120,i,r),we(e,i,r),we(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new nt(Mn(this.h),Ht(this.s),Ht(this.l),ee(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ee(this.opacity);return`${e===1?"hsl(":"hsla("}${Mn(this.h)}, ${Ht(this.s)*100}%, ${Ht(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Mn(e){return e=(e||0)%360,e<0?e+360:e}function Ht(e){return Math.max(0,Math.min(1,e||0))}function we(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wr=e=>()=>e;function zs(e,t){return function(n){return e+n*t}}function Fs(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Hs(e){return(e=+e)==1?Tr:function(t,n){return n-t?Fs(t,n,e):wr(isNaN(t)?n:t)}}function Tr(e,t){var n=t-e;return n?zs(e,n):wr(isNaN(e)?t:e)}const Rn=function e(t){var n=Hs(t);function r(i,o){var s=n((i=Le(i)).r,(o=Le(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=Tr(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=c(l),i.opacity=u(l),i+""}}return r.gamma=e,r}(1);function dt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var $e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Te=new RegExp($e.source,"g");function Us(e){return function(){return e}}function qs(e){return function(t){return e(t)+""}}function js(e,t){var n=$e.lastIndex=Te.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=$e.exec(e))&&(i=Te.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:dt(r,i)})),n=Te.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?qs(c[0].x):Us(t):(t=c.length,function(u){for(var l=0,d;l<t;++l)a[(d=c[l]).i]=d.x(u);return a.join("")})}var Pn=180/Math.PI,ze={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Dr(e,t,n,r,i,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Pn,skewX:Math.atan(c)*Pn,scaleX:s,scaleY:a}}var Ut;function Gs(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ze:Dr(t.a,t.b,t.c,t.d,t.e,t.f)}function Ws(e){return e==null||(Ut||(Ut=document.createElementNS("http://www.w3.org/2000/svg","g")),Ut.setAttribute("transform",e),!(e=Ut.transform.baseVal.consolidate()))?ze:(e=e.matrix,Dr(e.a,e.b,e.c,e.d,e.e,e.f))}function br(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,l,d,f,h,D){if(u!==d||l!==f){var b=h.push("translate(",null,t,null,n);D.push({i:b-4,x:dt(u,d)},{i:b-2,x:dt(l,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(u,l,d,f){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:dt(u,l)})):l&&d.push(i(d)+"rotate("+l+r)}function a(u,l,d,f){u!==l?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:dt(u,l)}):l&&d.push(i(d)+"skewX("+l+r)}function c(u,l,d,f,h,D){if(u!==d||l!==f){var b=h.push(i(h)+"scale(",null,",",null,")");D.push({i:b-4,x:dt(u,d)},{i:b-2,x:dt(l,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(u,l){var d=[],f=[];return u=e(u),l=e(l),o(u.translateX,u.translateY,l.translateX,l.translateY,d,f),s(u.rotate,l.rotate,d,f),a(u.skewX,l.skewX,d,f),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,d,f),u=l=null,function(h){for(var D=-1,b=f.length,C;++D<b;)d[(C=f[D]).i]=C.x(h);return d.join("")}}}var Bs=br(Gs,"px, ","px)","deg)"),Vs=br(Ws,", ",")",")"),Xs=1e-12;function An(e){return((e=Math.exp(e))+1/e)/2}function Ys(e){return((e=Math.exp(e))-1/e)/2}function Ks(e){return((e=Math.exp(2*e))-1)/(e+1)}const Qs=function e(t,n,r){function i(o,s){var a=o[0],c=o[1],u=o[2],l=s[0],d=s[1],f=s[2],h=l-a,D=d-c,b=h*h+D*D,C,_;if(b<Xs)_=Math.log(f/u)/t,C=function(v){return[a+v*h,c+v*D,u*Math.exp(t*v*_)]};else{var m=Math.sqrt(b),y=(f*f-u*u+r*b)/(2*u*n*m),E=(f*f-u*u-r*b)/(2*f*n*m),w=Math.log(Math.sqrt(y*y+1)-y),x=Math.log(Math.sqrt(E*E+1)-E);_=(x-w)/t,C=function(v){var T=v*_,I=An(w),N=u/(n*m)*(I*Ks(t*T+w)-Ys(w));return[a+N*h,c+N*D,u*I/An(t*T+w)]}}return C.duration=_*1e3*t/Math.SQRT2,C}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return e(s,a,c)},i}(Math.SQRT2,2,4);var bt=0,Ct=0,Ot=0,xr=1e3,ne,Nt,re=0,yt=0,ce=0,Lt=typeof performance=="object"&&performance.now?performance:Date,Sr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function an(){return yt||(Sr(Zs),yt=Lt.now()+ce)}function Zs(){yt=0}function ie(){this._call=this._time=this._next=null}ie.prototype=Or.prototype={constructor:ie,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?an():+n)+(t==null?0:+t),!this._next&&Nt!==this&&(Nt?Nt._next=this:ne=this,Nt=this),this._call=e,this._time=n,Fe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Fe())}};function Or(e,t,n){var r=new ie;return r.restart(e,t,n),r}function Js(){an(),++bt;for(var e=ne,t;e;)(t=yt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--bt}function kn(){yt=(re=Lt.now())+ce,bt=Ct=0;try{Js()}finally{bt=0,ea(),yt=0}}function ta(){var e=Lt.now(),t=e-re;t>xr&&(ce-=t,re=e)}function ea(){for(var e,t=ne,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ne=n);Nt=e,Fe(r)}function Fe(e){if(!bt){Ct&&(Ct=clearTimeout(Ct));var t=e-yt;t>24?(e<1/0&&(Ct=setTimeout(kn,e-Lt.now()-ce)),Ot&&(Ot=clearInterval(Ot))):(Ot||(re=Lt.now(),Ot=setInterval(ta,xr)),bt=1,Sr(kn))}}function Ln(e,t,n){var r=new ie;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var na=on("start","end","cancel","interrupt"),ra=[],Er=0,$n=1,He=2,Yt=3,zn=4,Ue=5,Kt=6;function le(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;ia(e,n,{name:t,index:r,group:i,on:na,tween:ra,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Er})}function un(e,t){var n=rt(e,t);if(n.state>Er)throw new Error("too late; already scheduled");return n}function at(e,t){var n=rt(e,t);if(n.state>Yt)throw new Error("too late; already running");return n}function rt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ia(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Or(o,0,n.time);function o(u){n.state=$n,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,d,f,h;if(n.state!==$n)return c();for(l in r)if(h=r[l],h.name===n.name){if(h.state===Yt)return Ln(s);h.state===zn?(h.state=Kt,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[l]):+l<t&&(h.state=Kt,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[l])}if(Ln(function(){n.state===Yt&&(n.state=zn,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=He,n.on.call("start",e,e.__data__,n.index,n.group),n.state===He){for(n.state=Yt,i=new Array(f=n.tween.length),l=0,d=-1;l<f;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=Ue,1),d=-1,f=i.length;++d<f;)i[d].call(e,l);n.state===Ue&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=Kt,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Qt(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>He&&r.state<Ue,r.state=Kt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function oa(e){return this.each(function(){Qt(this,e)})}function sa(e,t){var n,r;return function(){var i=at(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function aa(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=at(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function ua(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=rt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?sa:aa)(n,e,t))}function cn(e,t,n){var r=e._id;return e.each(function(){var i=at(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return rt(i,r).value[t]}}function Cr(e,t){var n;return(typeof t=="number"?dt:t instanceof kt?Rn:(n=kt(t))?(t=n,Rn):js)(e,t)}function ca(e){return function(){this.removeAttribute(e)}}function la(e){return function(){this.removeAttributeNS(e.space,e.local)}}function fa(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function ha(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function da(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function pa(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function ga(e,t){var n=ue(e),r=n==="transform"?Vs:Cr;return this.attrTween(e,typeof t=="function"?(n.local?pa:da)(n,r,cn(this,"attr."+e,t)):t==null?(n.local?la:ca)(n):(n.local?ha:fa)(n,r,t))}function ma(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function va(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ya(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&va(e,o)),n}return i._value=t,i}function _a(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ma(e,o)),n}return i._value=t,i}function wa(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ue(e);return this.tween(n,(r.local?ya:_a)(r,t))}function Ta(e,t){return function(){un(this,e).delay=+t.apply(this,arguments)}}function Da(e,t){return t=+t,function(){un(this,e).delay=t}}function ba(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ta:Da)(t,e)):rt(this.node(),t).delay}function xa(e,t){return function(){at(this,e).duration=+t.apply(this,arguments)}}function Sa(e,t){return t=+t,function(){at(this,e).duration=t}}function Oa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xa:Sa)(t,e)):rt(this.node(),t).duration}function Ea(e,t){if(typeof t!="function")throw new Error;return function(){at(this,e).ease=t}}function Ca(e){var t=this._id;return arguments.length?this.each(Ea(t,e)):rt(this.node(),t).ease}function Na(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function Ia(e){if(typeof e!="function")throw new Error;return this.each(Na(this._id,e))}function Ma(e){typeof e!="function"&&(e=ur(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new ht(r,this._parents,this._name,this._id)}function Ra(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=t[a],u=n[a],l=c.length,d=s[a]=new Array(l),f,h=0;h<l;++h)(f=c[h]||u[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new ht(s,this._parents,this._name,this._id)}function Pa(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Aa(e,t,n){var r,i,o=Pa(t)?un:at;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function ka(e,t){var n=this._id;return arguments.length<2?rt(this.node(),n).on.on(e):this.each(Aa(n,e,t))}function La(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function $a(){return this.on("end.remove",La(this._id))}function za(e){var t=this._name,n=this._id;typeof e!="function"&&(e=nn(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),l,d,f=0;f<c;++f)(l=a[f])&&(d=e.call(l,l.__data__,f,a))&&("__data__"in l&&(d.__data__=l.__data__),u[f]=d,le(u[f],t,n,f,u,rt(l,n)));return new ht(o,this._parents,t,n)}function Fa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ar(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,l,d=0;d<u;++d)if(l=c[d]){for(var f=e.call(l,l.__data__,d,c),h,D=rt(l,n),b=0,C=f.length;b<C;++b)(h=f[b])&&le(h,t,n,b,f,D);o.push(f),s.push(l)}return new ht(o,s,t,n)}var Ha=$t.prototype.constructor;function Ua(){return new Ha(this._groups,this._parents)}function qa(e,t){var n,r,i;return function(){var o=Dt(this,e),s=(this.style.removeProperty(e),Dt(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Nr(e){return function(){this.style.removeProperty(e)}}function ja(e,t,n){var r,i=n+"",o;return function(){var s=Dt(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Ga(e,t,n){var r,i,o;return function(){var s=Dt(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Dt(this,e))),s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}function Wa(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var c=at(this,e),u=c.on,l=c.value[o]==null?a||(a=Nr(t)):void 0;(u!==n||i!==l)&&(r=(n=u).copy()).on(s,i=l),c.on=r}}function Ba(e,t,n){var r=(e+="")=="transform"?Bs:Cr;return t==null?this.styleTween(e,qa(e,r)).on("end.style."+e,Nr(e)):typeof t=="function"?this.styleTween(e,Ga(e,r,cn(this,"style."+e,t))).each(Wa(this._id,e)):this.styleTween(e,ja(e,r,t),n).on("end.style."+e,null)}function Va(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Xa(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Va(e,s,n)),r}return o._value=t,o}function Ya(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Xa(e,t,n??""))}function Ka(e){return function(){this.textContent=e}}function Qa(e){return function(){var t=e(this);this.textContent=t??""}}function Za(e){return this.tween("text",typeof e=="function"?Qa(cn(this,"text",e)):Ka(e==null?"":e+""))}function Ja(e){return function(t){this.textContent=e.call(this,t)}}function tu(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ja(i)),t}return r._value=e,r}function eu(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tu(e))}function nu(){for(var e=this._name,t=this._id,n=Ir(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=rt(c,t);le(c,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new ht(r,this._parents,e,n)}function ru(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var u=at(this,r),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),i===0&&o()})}var iu=0;function ht(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ir(){return++iu}var lt=$t.prototype;ht.prototype={constructor:ht,select:za,selectAll:Fa,selectChild:lt.selectChild,selectChildren:lt.selectChildren,filter:Ma,merge:Ra,selection:Ua,transition:nu,call:lt.call,nodes:lt.nodes,node:lt.node,size:lt.size,empty:lt.empty,each:lt.each,on:ka,attr:ga,attrTween:wa,style:Ba,styleTween:Ya,text:Za,textTween:eu,remove:$a,tween:ua,delay:ba,duration:Oa,ease:Ca,easeVarying:Ia,end:ru,[Symbol.iterator]:lt[Symbol.iterator]};function ou(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var su={time:null,delay:0,duration:250,ease:ou};function au(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function uu(e){var t,n;e instanceof ht?(t=e._id,e=e._name):(t=Ir(),(n=su).time=an(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&le(c,e,t,u,s,n||au(c,t));return new ht(r,this._parents,e,t)}$t.prototype.interrupt=oa;$t.prototype.transition=uu;const qt=e=>()=>e;function cu(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ft(e,t,n){this.k=e,this.x=t,this.y=n}ft.prototype={constructor:ft,scale:function(e){return e===1?this:new ft(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ft(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var oe=new ft(1,0,0);ft.prototype;function De(e){e.stopImmediatePropagation()}function Et(e){e.preventDefault(),e.stopImmediatePropagation()}function lu(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function fu(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Fn(){return this.__zoom||oe}function hu(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function du(){return navigator.maxTouchPoints||"ontouchstart"in this}function pu(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function be(){var e=lu,t=fu,n=pu,r=hu,i=du,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=Qs,u=on("start","zoom","end"),l,d,f,h=500,D=150,b=0,C=10;function _(p){p.property("__zoom",Fn).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(p,S,g,O){var M=p.selection?p.selection():p;M.property("__zoom",Fn),p!==M?w(p,S,g,O):M.interrupt().each(function(){x(this,arguments).event(O).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},_.scaleBy=function(p,S,g,O){_.scaleTo(p,function(){var M=this.__zoom.k,R=typeof S=="function"?S.apply(this,arguments):S;return M*R},g,O)},_.scaleTo=function(p,S,g,O){_.transform(p,function(){var M=t.apply(this,arguments),R=this.__zoom,A=g==null?E(M):typeof g=="function"?g.apply(this,arguments):g,F=R.invert(A),U=typeof S=="function"?S.apply(this,arguments):S;return n(y(m(R,U),A,F),M,s)},g,O)},_.translateBy=function(p,S,g,O){_.transform(p,function(){return n(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof g=="function"?g.apply(this,arguments):g),t.apply(this,arguments),s)},null,O)},_.translateTo=function(p,S,g,O,M){_.transform(p,function(){var R=t.apply(this,arguments),A=this.__zoom,F=O==null?E(R):typeof O=="function"?O.apply(this,arguments):O;return n(oe.translate(F[0],F[1]).scale(A.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof g=="function"?-g.apply(this,arguments):-g),R,s)},O,M)};function m(p,S){return S=Math.max(o[0],Math.min(o[1],S)),S===p.k?p:new ft(S,p.x,p.y)}function y(p,S,g){var O=S[0]-g[0]*p.k,M=S[1]-g[1]*p.k;return O===p.x&&M===p.y?p:new ft(p.k,O,M)}function E(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function w(p,S,g,O){p.on("start.zoom",function(){x(this,arguments).event(O).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(O).end()}).tween("zoom",function(){var M=this,R=arguments,A=x(M,R).event(O),F=t.apply(M,R),U=g==null?E(F):typeof g=="function"?g.apply(M,R):g,it=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),G=M.__zoom,tt=typeof S=="function"?S.apply(M,R):S,ut=c(G.invert(U).concat(it/G.k),tt.invert(U).concat(it/tt.k));return function(et){if(et===1)et=tt;else{var ct=ut(et),ve=it/ct[2];et=new ft(ve,U[0]-ct[0]*ve,U[1]-ct[1]*ve)}A.zoom(null,et)}})}function x(p,S,g){return!g&&p.__zooming||new v(p,S)}function v(p,S){this.that=p,this.args=S,this.active=0,this.sourceEvent=null,this.extent=t.apply(p,S),this.taps=0}v.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,S){return this.mouse&&p!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var S=V(this.that).datum();u.call(p,this.that,new cu(p,{sourceEvent:this.sourceEvent,target:_,type:p,transform:this.that.__zoom,dispatch:u}),S)}};function T(p,...S){if(!e.apply(this,arguments))return;var g=x(this,S).event(p),O=this.__zoom,M=Math.max(o[0],Math.min(o[1],O.k*Math.pow(2,r.apply(this,arguments)))),R=pt(p);if(g.wheel)(g.mouse[0][0]!==R[0]||g.mouse[0][1]!==R[1])&&(g.mouse[1]=O.invert(g.mouse[0]=R)),clearTimeout(g.wheel);else{if(O.k===M)return;g.mouse=[R,O.invert(R)],Qt(this),g.start()}Et(p),g.wheel=setTimeout(A,D),g.zoom("mouse",n(y(m(O,M),g.mouse[0],g.mouse[1]),g.extent,s));function A(){g.wheel=null,g.end()}}function I(p,...S){if(f||!e.apply(this,arguments))return;var g=p.currentTarget,O=x(this,S,!0).event(p),M=V(p.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",it,!0),R=pt(p,g),A=p.clientX,F=p.clientY;xs(p.view),De(p),O.mouse=[R,this.__zoom.invert(R)],Qt(this),O.start();function U(G){if(Et(G),!O.moved){var tt=G.clientX-A,ut=G.clientY-F;O.moved=tt*tt+ut*ut>b}O.event(G).zoom("mouse",n(y(O.that.__zoom,O.mouse[0]=pt(G,g),O.mouse[1]),O.extent,s))}function it(G){M.on("mousemove.zoom mouseup.zoom",null),Ss(G.view,O.moved),Et(G),O.event(G).end()}}function N(p,...S){if(e.apply(this,arguments)){var g=this.__zoom,O=pt(p.changedTouches?p.changedTouches[0]:p,this),M=g.invert(O),R=g.k*(p.shiftKey?.5:2),A=n(y(m(g,R),O,M),t.apply(this,S),s);Et(p),a>0?V(this).transition().duration(a).call(w,A,O,p):V(this).call(_.transform,A,O,p)}}function L(p,...S){if(e.apply(this,arguments)){var g=p.touches,O=g.length,M=x(this,S,p.changedTouches.length===O).event(p),R,A,F,U;for(De(p),A=0;A<O;++A)F=g[A],U=pt(F,this),U=[U,this.__zoom.invert(U),F.identifier],M.touch0?!M.touch1&&M.touch0[2]!==U[2]&&(M.touch1=U,M.taps=0):(M.touch0=U,R=!0,M.taps=1+!!l);l&&(l=clearTimeout(l)),R&&(M.taps<2&&(d=U[0],l=setTimeout(function(){l=null},h)),Qt(this),M.start())}}function z(p,...S){if(this.__zooming){var g=x(this,S).event(p),O=p.changedTouches,M=O.length,R,A,F,U;for(Et(p),R=0;R<M;++R)A=O[R],F=pt(A,this),g.touch0&&g.touch0[2]===A.identifier?g.touch0[0]=F:g.touch1&&g.touch1[2]===A.identifier&&(g.touch1[0]=F);if(A=g.that.__zoom,g.touch1){var it=g.touch0[0],G=g.touch0[1],tt=g.touch1[0],ut=g.touch1[1],et=(et=tt[0]-it[0])*et+(et=tt[1]-it[1])*et,ct=(ct=ut[0]-G[0])*ct+(ct=ut[1]-G[1])*ct;A=m(A,Math.sqrt(et/ct)),F=[(it[0]+tt[0])/2,(it[1]+tt[1])/2],U=[(G[0]+ut[0])/2,(G[1]+ut[1])/2]}else if(g.touch0)F=g.touch0[0],U=g.touch0[1];else return;g.zoom("touch",n(y(A,F,U),g.extent,s))}}function j(p,...S){if(this.__zooming){var g=x(this,S).event(p),O=p.changedTouches,M=O.length,R,A;for(De(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),R=0;R<M;++R)A=O[R],g.touch0&&g.touch0[2]===A.identifier?delete g.touch0:g.touch1&&g.touch1[2]===A.identifier&&delete g.touch1;if(g.touch1&&!g.touch0&&(g.touch0=g.touch1,delete g.touch1),g.touch0)g.touch0[1]=this.__zoom.invert(g.touch0[0]);else if(g.end(),g.taps===2&&(A=pt(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<C)){var F=V(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return _.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:qt(+p),_):r},_.filter=function(p){return arguments.length?(e=typeof p=="function"?p:qt(!!p),_):e},_.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:qt(!!p),_):i},_.extent=function(p){return arguments.length?(t=typeof p=="function"?p:qt([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),_):t},_.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],_):[o[0],o[1]]},_.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],_):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},_.constrain=function(p){return arguments.length?(n=p,_):n},_.duration=function(p){return arguments.length?(a=+p,_):a},_.interpolate=function(p){return arguments.length?(c=p,_):c},_.on=function(){var p=u.on.apply(u,arguments);return p===u?_:p},_.clickDistance=function(p){return arguments.length?(b=(p=+p)*p,_):Math.sqrt(b)},_.tapDistance=function(p){return arguments.length?(C=+p,_):C},_}var Hn=Object.prototype.hasOwnProperty;function It(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&It(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(Hn.call(e,n)&&++r&&!Hn.call(t,n)||!(n in t)||!It(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}var Mr={exports:{}};(function(e){var t=function(){function n(f,h){return h!=null&&f instanceof h}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(f,h,D,b,C){typeof h=="object"&&(D=h.depth,b=h.prototype,C=h.includeNonEnumerable,h=h.circular);var _=[],m=[],y=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof D>"u"&&(D=1/0);function E(w,x){if(w===null)return null;if(x===0)return w;var v,T;if(typeof w!="object")return w;if(n(w,r))v=new r;else if(n(w,i))v=new i;else if(n(w,o))v=new o(function(O,M){w.then(function(R){O(E(R,x-1))},function(R){M(E(R,x-1))})});else if(s.__isArray(w))v=[];else if(s.__isRegExp(w))v=new RegExp(w.source,d(w)),w.lastIndex&&(v.lastIndex=w.lastIndex);else if(s.__isDate(w))v=new Date(w.getTime());else{if(y&&Buffer.isBuffer(w))return Buffer.allocUnsafe?v=Buffer.allocUnsafe(w.length):v=new Buffer(w.length),w.copy(v),v;n(w,Error)?v=Object.create(w):typeof b>"u"?(T=Object.getPrototypeOf(w),v=Object.create(T)):(v=Object.create(b),T=b)}if(h){var I=_.indexOf(w);if(I!=-1)return m[I];_.push(w),m.push(v)}n(w,r)&&w.forEach(function(O,M){var R=E(M,x-1),A=E(O,x-1);v.set(R,A)}),n(w,i)&&w.forEach(function(O){var M=E(O,x-1);v.add(M)});for(var N in w){var L;T&&(L=Object.getOwnPropertyDescriptor(T,N)),!(L&&L.set==null)&&(v[N]=E(w[N],x-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(w),N=0;N<z.length;N++){var j=z[N],p=Object.getOwnPropertyDescriptor(w,j);p&&!p.enumerable&&!C||(v[j]=E(w[j],x-1),p.enumerable||Object.defineProperty(v,j,{enumerable:!1}))}if(C)for(var S=Object.getOwnPropertyNames(w),N=0;N<S.length;N++){var g=S[N],p=Object.getOwnPropertyDescriptor(w,g);p&&p.enumerable||(v[g]=E(w[g],x-1),Object.defineProperty(v,g,{enumerable:!1}))}return v}return E(f,D)}s.clonePrototype=function(h){if(h===null)return null;var D=function(){};return D.prototype=h,new D};function a(f){return Object.prototype.toString.call(f)}s.__objToStr=a;function c(f){return typeof f=="object"&&a(f)==="[object Date]"}s.__isDate=c;function u(f){return typeof f=="object"&&a(f)==="[object Array]"}s.__isArray=u;function l(f){return typeof f=="object"&&a(f)==="[object RegExp]"}s.__isRegExp=l;function d(f){var h="";return f.global&&(h+="g"),f.ignoreCase&&(h+="i"),f.multiline&&(h+="m"),h}return s.__getRegExpFlags=d,s}();e.exports&&(e.exports=t)})(Mr);var gu=Mr.exports;const B=or(gu);var jt,mu=new Uint8Array(16);function vu(){if(!jt&&(jt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!jt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jt(mu)}const yu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _u(e){return typeof e=="string"&&yu.test(e)}var W=[];for(var xe=0;xe<256;++xe)W.push((xe+256).toString(16).substr(1));function wu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(W[e[t+0]]+W[e[t+1]]+W[e[t+2]]+W[e[t+3]]+"-"+W[e[t+4]]+W[e[t+5]]+"-"+W[e[t+6]]+W[e[t+7]]+"-"+W[e[t+8]]+W[e[t+9]]+"-"+W[e[t+10]]+W[e[t+11]]+W[e[t+12]]+W[e[t+13]]+W[e[t+14]]+W[e[t+15]]).toLowerCase();if(!_u(n))throw TypeError("Stringified UUID is invalid");return n}function Se(e,t,n){e=e||{};var r=e.random||(e.rng||vu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return wu(r)}var qe={exports:{}},je={exports:{}},Tu=function(){for(var t=arguments.length,n=[],r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(i){return i!=null}),n.length!==0)return n.length===1?n[0]:n.reduce(function(i,o){return function(){i.apply(this,arguments),o.apply(this,arguments)}})},Du=function(){},bu=Du;function Rr(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function Pr(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function Ar(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Rr.__suppressDeprecationWarning=!0;Pr.__suppressDeprecationWarning=!0;Ar.__suppressDeprecationWarning=!0;function xu(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=Rr,t.componentWillReceiveProps=Pr),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Ar;var a=t.componentDidUpdate;t.componentDidUpdate=function(u,l,d){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:d;a.call(this,u,l,f)}}return e}const Su=Object.freeze(Object.defineProperty({__proto__:null,polyfill:xu},Symbol.toStringTag,{value:"Module"})),Ou=hi(Su);var fe={};fe.__esModule=!0;fe.getChildMapping=Cu;fe.mergeChildMappings=Nu;var Eu=k;function Cu(e){if(!e)return e;var t={};return Eu.Children.map(e,function(n){return n}).forEach(function(n){t[n.key]=n}),t}function Nu(e,t){e=e||{},t=t||{};function n(l){return t.hasOwnProperty(l)?t[l]:e[l]}var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var s=void 0,a={};for(var c in t){if(r.hasOwnProperty(c))for(s=0;s<r[c].length;s++){var u=r[c][s];a[r[c][s]]=n(u)}a[c]=n(c)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}(function(e,t){t.__esModule=!0;var n=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var E=arguments[y];for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(m[w]=E[w])}return m},r=Tu,i=f(r),o=k,s=f(o),a=ae,c=f(a),u=bu;f(u);var l=Ou,d=fe;function f(m){return m&&m.__esModule?m:{default:m}}function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function D(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function b(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}c.default.any,c.default.func,c.default.node;var C={component:"span",childFactory:function(y){return y}},_=function(m){b(y,m);function y(E,w){h(this,y);var x=D(this,m.call(this,E,w));return x.performAppear=function(v,T){x.currentlyTransitioningKeys[v]=!0,T.componentWillAppear?T.componentWillAppear(x._handleDoneAppearing.bind(x,v,T)):x._handleDoneAppearing(v,T)},x._handleDoneAppearing=function(v,T){T&&T.componentDidAppear&&T.componentDidAppear(),delete x.currentlyTransitioningKeys[v];var I=(0,d.getChildMapping)(x.props.children);(!I||!I.hasOwnProperty(v))&&x.performLeave(v,T)},x.performEnter=function(v,T){x.currentlyTransitioningKeys[v]=!0,T.componentWillEnter?T.componentWillEnter(x._handleDoneEntering.bind(x,v,T)):x._handleDoneEntering(v,T)},x._handleDoneEntering=function(v,T){T&&T.componentDidEnter&&T.componentDidEnter(),delete x.currentlyTransitioningKeys[v];var I=(0,d.getChildMapping)(x.props.children);(!I||!I.hasOwnProperty(v))&&x.performLeave(v,T)},x.performLeave=function(v,T){x.currentlyTransitioningKeys[v]=!0,T&&T.componentWillLeave?T.componentWillLeave(x._handleDoneLeaving.bind(x,v,T)):x._handleDoneLeaving(v,T)},x._handleDoneLeaving=function(v,T){T&&T.componentDidLeave&&T.componentDidLeave(),delete x.currentlyTransitioningKeys[v];var I=(0,d.getChildMapping)(x.props.children);I&&I.hasOwnProperty(v)?x.keysToEnter.push(v):x.setState(function(N){var L=n({},N.children);return delete L[v],{children:L}})},x.childRefs=Object.create(null),x.currentlyTransitioningKeys={},x.keysToEnter=[],x.keysToLeave=[],x.state={children:(0,d.getChildMapping)(E.children)},x}return y.prototype.componentDidMount=function(){var w=this.state.children;for(var x in w)w[x]&&this.performAppear(x,this.childRefs[x])},y.getDerivedStateFromProps=function(w,x){var v=(0,d.getChildMapping)(w.children),T=x.children;return{children:(0,d.mergeChildMappings)(T,v)}},y.prototype.componentDidUpdate=function(w,x){var v=this,T=(0,d.getChildMapping)(this.props.children),I=x.children;for(var N in T){var L=I&&I.hasOwnProperty(N);T[N]&&!L&&!this.currentlyTransitioningKeys[N]&&this.keysToEnter.push(N)}for(var z in I){var j=T&&T.hasOwnProperty(z);I[z]&&!j&&!this.currentlyTransitioningKeys[z]&&this.keysToLeave.push(z)}var p=this.keysToEnter;this.keysToEnter=[],p.forEach(function(g){return v.performEnter(g,v.childRefs[g])});var S=this.keysToLeave;this.keysToLeave=[],S.forEach(function(g){return v.performLeave(g,v.childRefs[g])})},y.prototype.render=function(){var w=this,x=[],v=function(L){var z=w.state.children[L];if(z){var j=typeof z.ref!="string",p=w.props.childFactory(z),S=function(O){w.childRefs[L]=O};p===z&&j&&(S=(0,i.default)(z.ref,S)),x.push(s.default.cloneElement(p,{key:L,ref:S}))}};for(var T in this.state.children)v(T);var I=n({},this.props);return delete I.transitionLeave,delete I.transitionName,delete I.transitionAppear,delete I.transitionEnter,delete I.childFactory,delete I.transitionLeaveTimeout,delete I.transitionEnterTimeout,delete I.transitionAppearTimeout,delete I.component,s.default.createElement(this.props.component,I,x)},y}(s.default.Component);_.displayName="TransitionGroup",_.propTypes={},_.defaultProps=C,t.default=(0,l.polyfill)(_),e.exports=t.default})(je,je.exports);var kr=je.exports,Ge={exports:{}},We={exports:{}},Lr={exports:{}};(function(e){function t(n){return n&&n.__esModule?n:{default:n}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(Lr);var ln=Lr.exports,Gt={exports:{}},Un;function Iu(){return Un||(Un=1,function(e,t){t.__esModule=!0,t.default=n;function n(r,i){return r.classList?!!i&&r.classList.contains(i):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+i+" ")!==-1}e.exports=t.default}(Gt,Gt.exports)),Gt.exports}(function(e,t){var n=ln;t.__esModule=!0,t.default=i;var r=n(Iu());function i(o,s){o.classList?o.classList.add(s):(0,r.default)(o,s)||(typeof o.className=="string"?o.className=o.className+" "+s:o.setAttribute("class",(o.className&&o.className.baseVal||"")+" "+s))}e.exports=t.default})(We,We.exports);var Mu=We.exports;function qn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Ru=function(t,n){t.classList?t.classList.remove(n):typeof t.className=="string"?t.className=qn(t.className,n):t.setAttribute("class",qn(t.className&&t.className.baseVal||"",n))},Be={exports:{}},Wt={exports:{}},jn;function $r(){return jn||(jn=1,function(e,t){t.__esModule=!0,t.default=void 0;var n=!!(typeof window<"u"&&window.document&&window.document.createElement);t.default=n,e.exports=t.default}(Wt,Wt.exports)),Wt.exports}(function(e,t){var n=ln;t.__esModule=!0,t.default=void 0;var r=n($r()),i=["","webkit","moz","o","ms"],o="clearTimeout",s=l,a,c=function(h,D){return h+(h?D[0].toUpperCase()+D.substr(1):D)+"AnimationFrame"};r.default&&i.some(function(f){var h=c(f,"request");if(h in window)return o=c(f,"cancel"),s=function(b){return window[h](b)}});var u=new Date().getTime();function l(f){var h=new Date().getTime(),D=Math.max(0,16-(h-u)),b=setTimeout(f,D);return u=h,b}a=function(h){return s(h)},a.cancel=function(f){window[o]&&typeof window[o]=="function"&&window[o](f)};var d=a;t.default=d,e.exports=t.default})(Be,Be.exports);var Pu=Be.exports,$={},Au=ln;$.__esModule=!0;$.default=$.animationEnd=$.animationDelay=$.animationTiming=$.animationDuration=$.animationName=$.transitionEnd=$.transitionDuration=$.transitionDelay=$.transitionTiming=$.transitionProperty=$.transform=void 0;var ku=Au($r()),se="transform";$.transform=se;var ot,fn,zr;$.animationEnd=zr;$.transitionEnd=fn;var hn,dn,pn,gn;$.transitionDelay=gn;$.transitionTiming=pn;$.transitionDuration=dn;$.transitionProperty=hn;var Fr,Hr,Ur,qr;$.animationDelay=qr;$.animationTiming=Ur;$.animationDuration=Hr;$.animationName=Fr;if(ku.default){var Oe=$u();ot=Oe.prefix,$.transitionEnd=fn=Oe.transitionEnd,$.animationEnd=zr=Oe.animationEnd,$.transform=se=ot+"-"+se,$.transitionProperty=hn=ot+"-transition-property",$.transitionDuration=dn=ot+"-transition-duration",$.transitionDelay=gn=ot+"-transition-delay",$.transitionTiming=pn=ot+"-transition-timing-function",$.animationName=Fr=ot+"-animation-name",$.animationDuration=Hr=ot+"-animation-duration",$.animationTiming=Ur=ot+"-animation-delay",$.animationDelay=qr=ot+"-animation-timing-function"}var Lu={transform:se,end:fn,property:hn,timing:pn,delay:gn,duration:dn};$.default=Lu;function $u(){for(var e=document.createElement("div").style,t={O:function(u){return"o"+u.toLowerCase()},Moz:function(u){return u.toLowerCase()},Webkit:function(u){return"webkit"+u},ms:function(u){return"MS"+u}},n=Object.keys(t),r,i,o="",s=0;s<n.length;s++){var a=n[s];if(a+"TransitionProperty"in e){o="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),i=t[a]("AnimationEnd");break}}return!r&&"transitionProperty"in e&&(r="transitionend"),!i&&"animationName"in e&&(i="animationend"),e=null,{animationEnd:i,transitionEnd:r,prefix:o}}var xt={};xt.__esModule=!0;xt.nameShape=void 0;xt.transitionTimeout=Hu;var zu=k;jr(zu);var Fu=ae,Y=jr(Fu);function jr(e){return e&&e.__esModule?e:{default:e}}function Hu(e){var t="transition"+e+"Timeout",n="transition"+e;return function(r){if(r[n]){if(r[t]==null)return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if(typeof r[t]!="number")return new Error(t+" must be a number (in milliseconds)")}return null}}xt.nameShape=Y.default.oneOfType([Y.default.string,Y.default.shape({enter:Y.default.string,leave:Y.default.string,active:Y.default.string}),Y.default.shape({enter:Y.default.string,enterActive:Y.default.string,leave:Y.default.string,leaveActive:Y.default.string,appear:Y.default.string,appearActive:Y.default.string})]);(function(e,t){t.__esModule=!0;var n=Object.assign||function(v){for(var T=1;T<arguments.length;T++){var I=arguments[T];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(v[N]=I[N])}return v},r=Mu,i=C(r),o=Ru,s=C(o),a=Pu,c=C(a),u=$,l=k,d=C(l),f=ae,h=C(f),D=di,b=xt;function C(v){return v&&v.__esModule?v:{default:v}}function _(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}function m(v,T){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:v}function y(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(v,T):v.__proto__=T)}var E=[];u.transitionEnd&&E.push(u.transitionEnd),u.animationEnd&&E.push(u.animationEnd);function w(v,T){return E.length?E.forEach(function(I){return v.addEventListener(I,T,!1)}):setTimeout(T,0),function(){E.length&&E.forEach(function(I){return v.removeEventListener(I,T,!1)})}}h.default.node,b.nameShape.isRequired,h.default.bool,h.default.bool,h.default.bool,h.default.number,h.default.number,h.default.number;var x=function(v){y(T,v);function T(I,N){_(this,T);var L=m(this,v.call(this,I,N));return L.componentWillAppear=function(z){L.props.appear?L.transition("appear",z,L.props.appearTimeout):z()},L.componentWillEnter=function(z){L.props.enter?L.transition("enter",z,L.props.enterTimeout):z()},L.componentWillLeave=function(z){L.props.leave?L.transition("leave",z,L.props.leaveTimeout):z()},L.classNameAndNodeQueue=[],L.transitionTimeouts=[],L}return T.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(N){clearTimeout(N)}),this.classNameAndNodeQueue.length=0},T.prototype.transition=function(N,L,z){var j=(0,D.findDOMNode)(this);if(!j){L&&L();return}var p=this.props.name[N]||this.props.name+"-"+N,S=this.props.name[N+"Active"]||p+"-active",g=null,O=void 0;(0,i.default)(j,p),this.queueClassAndNode(S,j);var M=function(A){A&&A.target!==j||(clearTimeout(g),O&&O(),(0,s.default)(j,p),(0,s.default)(j,S),O&&O(),L&&L())};z?(g=setTimeout(M,z),this.transitionTimeouts.push(g)):u.transitionEnd&&(O=w(j,M))},T.prototype.queueClassAndNode=function(N,L){var z=this;this.classNameAndNodeQueue.push({className:N,node:L}),this.rafHandle||(this.rafHandle=(0,c.default)(function(){return z.flushClassNameAndNodeQueue()}))},T.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(N){N.node.scrollTop,(0,i.default)(N.node,N.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},T.prototype.render=function(){var N=n({},this.props);return delete N.name,delete N.appear,delete N.enter,delete N.leave,delete N.appearTimeout,delete N.enterTimeout,delete N.leaveTimeout,delete N.children,d.default.cloneElement(d.default.Children.only(this.props.children),N)},T}(d.default.Component);x.displayName="CSSTransitionGroupChild",x.propTypes={},t.default=x,e.exports=t.default})(Ge,Ge.exports);var Uu=Ge.exports;(function(e,t){t.__esModule=!0;var n=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var E=arguments[y];for(var w in E)Object.prototype.hasOwnProperty.call(E,w)&&(m[w]=E[w])}return m},r=k,i=f(r),o=ae,s=f(o),a=kr,c=f(a),u=Uu,l=f(u),d=xt;function f(m){return m&&m.__esModule?m:{default:m}}function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function D(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function b(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}d.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,d.transitionTimeout)("Appear"),(0,d.transitionTimeout)("Enter"),(0,d.transitionTimeout)("Leave");var C={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},_=function(m){b(y,m);function y(){var E,w,x;h(this,y);for(var v=arguments.length,T=Array(v),I=0;I<v;I++)T[I]=arguments[I];return x=(E=(w=D(this,m.call.apply(m,[this].concat(T))),w),w._wrapChild=function(N){return i.default.createElement(l.default,{name:w.props.transitionName,appear:w.props.transitionAppear,enter:w.props.transitionEnter,leave:w.props.transitionLeave,appearTimeout:w.props.transitionAppearTimeout,enterTimeout:w.props.transitionEnterTimeout,leaveTimeout:w.props.transitionLeaveTimeout},N)},E),D(w,x)}return y.prototype.render=function(){return i.default.createElement(c.default,n({},this.props,{childFactory:this._wrapChild}))},y}(i.default.Component);_.displayName="CSSTransitionGroup",_.propTypes={},_.defaultProps=C,t.default=_,e.exports=t.default})(qe,qe.exports);var qu=qe.exports,ju=qu,Gu=Gr(ju),Wu=kr,Bu=Gr(Wu);function Gr(e){return e&&e.__esModule?e:{default:e}}var Vu={TransitionGroup:Bu.default,CSSTransitionGroup:Gu.default};const Xu=e=>e.enableLegacyTransitions?q.createElement(Vu.TransitionGroup,{component:e.component,className:e.className,transform:e.transform},e.children):q.createElement("g",{className:e.className,transform:e.transform},e.children),Yu=15,Gn={title:{textAnchor:"start",x:40},attribute:{x:40,dy:"1.2em"}},Ku=({nodeDatum:e,toggleNode:t,onNodeClick:n,onNodeMouseOver:r,onNodeMouseOut:i})=>q.createElement(q.Fragment,null,q.createElement("circle",{r:Yu,onClick:o=>{t(),n(o)},onMouseOver:r,onMouseOut:i}),q.createElement("g",{className:"rd3t-label"},q.createElement("text",Object.assign({className:"rd3t-label__title"},Gn.title),e.name),q.createElement("text",{className:"rd3t-label__attributes"},e.attributes&&Object.entries(e.attributes).map(([o,s],a)=>q.createElement("tspan",Object.assign({key:`${o}-${a}`},Gn.attribute),o,": ",typeof s=="boolean"?s.toString():s)))));class Qu extends q.Component{constructor(){super(...arguments),this.nodeRef=null,this.state={transform:this.setTransform(this.props.position,this.props.parent,this.props.orientation,!0),initialStyle:{opacity:0},wasClicked:!1},this.shouldNodeTransform=(t,n,r,i)=>n.subscriptions!==t.subscriptions||n.position.x!==t.position.x||n.position.y!==t.position.y||n.orientation!==t.orientation||i.wasClicked!==r.wasClicked,this.renderNodeElement=()=>{const{data:t,hierarchyPointNode:n,renderCustomNodeElement:r}=this.props,i=typeof r=="function"?r:Ku,o={hierarchyPointNode:n,nodeDatum:t,toggleNode:this.handleNodeToggle,onNodeClick:this.handleOnClick,onNodeMouseOver:this.handleOnMouseOver,onNodeMouseOut:this.handleOnMouseOut,addChildren:this.handleAddChildren};return i(o)},this.handleNodeToggle=()=>{this.setState({wasClicked:!0}),this.props.onNodeToggle(this.props.data.__rd3t.id)},this.handleOnClick=t=>{this.setState({wasClicked:!0}),this.props.onNodeClick(this.props.hierarchyPointNode,t)},this.handleOnMouseOver=t=>{this.props.onNodeMouseOver(this.props.hierarchyPointNode,t)},this.handleOnMouseOut=t=>{this.props.onNodeMouseOut(this.props.hierarchyPointNode,t)},this.handleAddChildren=t=>{this.props.handleAddChildrenToNode(this.props.data.__rd3t.id,t)}}componentDidMount(){this.commitTransform()}componentDidUpdate(){this.state.wasClicked&&(this.props.centerNode(this.props.hierarchyPointNode),this.setState({wasClicked:!1})),this.commitTransform()}shouldComponentUpdate(t,n){return this.shouldNodeTransform(this.props,t,this.state,n)}setTransform(t,n,r,i=!1){if(i){const o=n!=null,s=o?n.x:0,a=o?n.y:0;return r==="horizontal"?`translate(${a},${s})`:`translate(${s},${a})`}return r==="horizontal"?`translate(${t.y},${t.x})`:`translate(${t.x},${t.y})`}applyTransform(t,n,r=1,i=()=>{}){this.props.enableLegacyTransitions?V(this.nodeRef).transition().duration(n).attr("transform",t).style("opacity",r).on("end",i):(V(this.nodeRef).attr("transform",t).style("opacity",r),i())}commitTransform(){const{orientation:t,transitionDuration:n,position:r,parent:i}=this.props,o=this.setTransform(r,i,t);this.applyTransform(o,n)}componentWillLeave(t){const{orientation:n,transitionDuration:r,position:i,parent:o}=this.props,s=this.setTransform(i,o,n,!0);this.applyTransform(s,r,0,t)}render(){const{data:t,nodeClassName:n}=this.props;return q.createElement("g",{id:t.__rd3t.id,ref:r=>{this.nodeRef=r},style:this.state.initialStyle,className:[t.children&&t.children.length>0?"rd3t-node":"rd3t-leaf-node",n].join(" ").trim(),transform:this.state.transform},this.renderNodeElement())}}var Ve=Math.PI,Xe=2*Ve,gt=1e-6,Zu=Xe-gt;function Ye(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wr(){return new Ye}Ye.prototype=Wr.prototype={constructor:Ye,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,s=this._y1,a=n-e,c=r-t,u=o-e,l=s-t,d=u*u+l*l;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>gt)if(!(Math.abs(l*a-c*u)>gt)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=n-o,h=r-s,D=a*a+c*c,b=f*f+h*h,C=Math.sqrt(D),_=Math.sqrt(d),m=i*Math.tan((Ve-Math.acos((D+d-b)/(2*C*_)))/2),y=m/_,E=m/C;Math.abs(y-1)>gt&&(this._+="L"+(e+y*u)+","+(t+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>u*h)+","+(this._x1=e+E*a)+","+(this._y1=t+E*c)}},arc:function(e,t,n,r,i,o){e=+e,t=+t,n=+n,o=!!o;var s=n*Math.cos(r),a=n*Math.sin(r),c=e+s,u=t+a,l=1^o,d=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+u:(Math.abs(this._x1-c)>gt||Math.abs(this._y1-u)>gt)&&(this._+="L"+c+","+u),n&&(d<0&&(d=d%Xe+Xe),d>Zu?this._+="A"+n+","+n+",0,1,"+l+","+(e-s)+","+(t-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):d>gt&&(this._+="A"+n+","+n+",0,"+ +(d>=Ve)+","+l+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function Wn(e){return function(){return e}}function Ju(e){return e[0]}function tc(e){return e[1]}var ec=Array.prototype.slice;function nc(e){return e.source}function rc(e){return e.target}function Br(e){var t=nc,n=rc,r=Ju,i=tc,o=null;function s(){var a,c=ec.call(arguments),u=t.apply(this,c),l=n.apply(this,c);if(o||(o=a=Wr()),e(o,+r.apply(this,(c[0]=u,c)),+i.apply(this,c),+r.apply(this,(c[0]=l,c)),+i.apply(this,c)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(n=a,s):n},s.x=function(a){return arguments.length?(r=typeof a=="function"?a:Wn(+a),s):r},s.y=function(a){return arguments.length?(i=typeof a=="function"?a:Wn(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function ic(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function oc(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+i)/2,r,n,r,i)}function sc(){return Br(ic)}function ac(){return Br(oc)}class uc extends q.PureComponent{constructor(){super(...arguments),this.linkRef=null,this.state={initialStyle:{opacity:0}},this.handleOnClick=t=>{this.props.onClick(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOver=t=>{this.props.onMouseOver(this.props.linkData.source,this.props.linkData.target,t)},this.handleOnMouseOut=t=>{this.props.onMouseOut(this.props.linkData.source,this.props.linkData.target,t)}}componentDidMount(){this.applyOpacity(1,this.props.transitionDuration)}componentWillLeave(t){this.applyOpacity(0,this.props.transitionDuration,t)}applyOpacity(t,n,r=()=>{}){this.props.enableLegacyTransitions?V(this.linkRef).transition().duration(n).style("opacity",t).on("end",r):(V(this.linkRef).style("opacity",t),r())}drawStepPath(t,n){const{source:r,target:i}=t,o=i.y-r.y;return n==="horizontal"?`M${r.y},${r.x} H${r.y+o/2} V${i.x} H${i.y}`:`M${r.x},${r.y} V${r.y+o/2} H${i.x} V${i.y}`}drawDiagonalPath(t,n){const{source:r,target:i}=t;return n==="horizontal"?sc()({source:[r.y,r.x],target:[i.y,i.x]}):ac()({source:[r.x,r.y],target:[i.x,i.y]})}drawStraightPath(t,n){const{source:r,target:i}=t;return n==="horizontal"?`M${r.y},${r.x}L${i.y},${i.x}`:`M${r.x},${r.y}L${i.x},${i.y}`}drawElbowPath(t,n){return n==="horizontal"?`M${t.source.y},${t.source.x}V${t.target.x}H${t.target.y}`:`M${t.source.x},${t.source.y}V${t.target.y}H${t.target.x}`}drawPath(){const{linkData:t,orientation:n,pathFunc:r}=this.props;return typeof r=="function"?r(t,n):r==="elbow"?this.drawElbowPath(t,n):r==="straight"?this.drawStraightPath(t,n):r==="step"?this.drawStepPath(t,n):this.drawDiagonalPath(t,n)}getClassNames(){const{linkData:t,orientation:n,pathClassFunc:r}=this.props,i=["rd3t-link"];return typeof r=="function"&&i.push(r(t,n)),i.join(" ").trim()}render(){const{linkData:t}=this.props;return q.createElement("path",{ref:n=>{this.linkRef=n},style:Object.assign({},this.state.initialStyle),className:this.getClassNames(),d:this.drawPath(),onClick:this.handleOnClick,onMouseOver:this.handleOnMouseOver,onMouseOut:this.handleOnMouseOut,"data-source-id":t.source.id,"data-target-id":t.target.id})}}const cc=`
/* Tree */
.rd3t-tree-container {
  width: 100%;
  height: 100%;
}

.rd3t-grabbable {
  cursor: move; /* fallback if grab cursor is unsupported */
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}
.rd3t-grabbable:active {
    cursor: grabbing;
    cursor: -moz-grabbing;
    cursor: -webkit-grabbing;
}

/* Node */
.rd3t-node {
  cursor: pointer;
  fill: #777;
  stroke: #000;
  stroke-width: 2;
}

.rd3t-leaf-node {
  cursor: pointer;
  fill: transparent;
  stroke: #000;
  stroke-width: 1;
}

.rd3t-label__title {
  fill: #000;
  stroke: none;
  font-weight: bolder;
}

.rd3t-label__attributes {
  fill: #777;
  stroke: none;
  font-weight: bolder;
  font-size: smaller;
}

/* Link */
.rd3t-link {
  fill: none;
  stroke: #000;
}
`;class K extends q.Component{constructor(){super(...arguments),this.state={dataRef:this.props.data,data:K.assignInternalProperties(B(this.props.data)),d3:K.calculateD3Geometry(this.props),isTransitioning:!1,isInitialRenderForDataset:!0,dataKey:this.props.dataKey},this.internalState={targetNode:null,isTransitioning:!1},this.svgInstanceRef=`rd3t-svg-${Se()}`,this.gInstanceRef=`rd3t-g-${Se()}`,this.handleNodeToggle=t=>{const n=B(this.state.data),i=this.findNodesById(t,n,[])[0];this.props.collapsible&&!this.state.isTransitioning&&(i.__rd3t.collapsed?(K.expandNode(i),this.props.shouldCollapseNeighborNodes&&this.collapseNeighborNodes(i,n)):K.collapseNode(i),this.props.enableLegacyTransitions?(this.setState({data:n,isTransitioning:!0}),setTimeout(()=>this.setState({isTransitioning:!1}),this.props.transitionDuration+10)):this.setState({data:n}),this.internalState.targetNode=i)},this.handleAddChildrenToNode=(t,n)=>{const r=B(this.state.data),i=this.findNodesById(t,r,[]);if(i.length>0){const o=i[0],s=o.__rd3t.depth,a=B(n).map(c=>K.assignInternalProperties([c],s+1));o.children.push(...a.flat()),this.setState({data:r})}},this.handleOnNodeClickCb=(t,n)=>{const{onNodeClick:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(B(t),n))},this.handleOnLinkClickCb=(t,n,r)=>{const{onLinkClick:i}=this.props;i&&typeof i=="function"&&(r.persist(),i(B(t),B(n),r))},this.handleOnNodeMouseOverCb=(t,n)=>{const{onNodeMouseOver:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(B(t),n))},this.handleOnLinkMouseOverCb=(t,n,r)=>{const{onLinkMouseOver:i}=this.props;i&&typeof i=="function"&&(r.persist(),i(B(t),B(n),r))},this.handleOnNodeMouseOutCb=(t,n)=>{const{onNodeMouseOut:r}=this.props;r&&typeof r=="function"&&(n.persist(),r(B(t),n))},this.handleOnLinkMouseOutCb=(t,n,r)=>{const{onLinkMouseOut:i}=this.props;i&&typeof i=="function"&&(r.persist(),i(B(t),B(n),r))},this.centerNode=t=>{const{dimensions:n,orientation:r,zoom:i,centeringTransitionDuration:o}=this.props;if(n){const s=V(`.${this.gInstanceRef}`),a=V(`.${this.svgInstanceRef}`),c=this.state.d3.scale;let u,l;r==="horizontal"?(l=-t.x*c+n.height/2,u=-t.y*c+n.width/2):(u=-t.x*c+n.width/2,l=-t.y*c+n.height/2),s.transition().duration(o).attr("transform","translate("+u+","+l+")scale("+c+")"),a.call(be().transform,oe.translate(u,l).scale(i))}},this.getNodeClassName=(t,n)=>{const{rootNodeClassName:r,branchNodeClassName:i,leafNodeClassName:o}=this.props;return t!=null?n.children?i:o:r}}static getDerivedStateFromProps(t,n){let r=null;const i=!t.dataKey||n.dataKey!==t.dataKey;t.data!==n.dataRef&&i&&(r={dataRef:t.data,data:K.assignInternalProperties(B(t.data)),isInitialRenderForDataset:!0,dataKey:t.dataKey});const o=K.calculateD3Geometry(t);return It(o,n.d3)||(r=r||{},r.d3=o),r}componentDidMount(){this.bindZoomListener(this.props),this.setState({isInitialRenderForDataset:!1})}componentDidUpdate(t){this.props.data!==t.data&&this.setState({isInitialRenderForDataset:!1}),(!It(this.props.translate,t.translate)||!It(this.props.scaleExtent,t.scaleExtent)||this.props.zoomable!==t.zoomable||this.props.draggable!==t.draggable||this.props.zoom!==t.zoom||this.props.enableLegacyTransitions!==t.enableLegacyTransitions)&&this.bindZoomListener(this.props),typeof this.props.onUpdate=="function"&&this.props.onUpdate({node:this.internalState.targetNode?B(this.internalState.targetNode):null,zoom:this.state.d3.scale,translate:this.state.d3.translate}),this.internalState.targetNode=null}setInitialTreeDepth(t,n){t.forEach(r=>{r.data.__rd3t.collapsed=r.depth>=n})}bindZoomListener(t){const{zoomable:n,scaleExtent:r,translate:i,zoom:o,onUpdate:s,hasInteractiveNodes:a}=t,c=V(`.${this.svgInstanceRef}`),u=V(`.${this.gInstanceRef}`);c.call(be().transform,oe.translate(i.x,i.y).scale(o)),c.call(be().scaleExtent(n?[r.min,r.max]:[o,o]).filter(l=>a?l.target.classList.contains(this.svgInstanceRef)||l.target.classList.contains(this.gInstanceRef)||l.shiftKey:!0).on("zoom",l=>{!this.props.draggable&&["mousemove","touchmove","dblclick"].includes(l.sourceEvent.type)||(u.attr("transform",l.transform),typeof s=="function"&&(s({node:null,zoom:l.transform.k,translate:{x:l.transform.x,y:l.transform.y}}),this.state.d3.scale=l.transform.k,this.state.d3.translate={x:l.transform.x,y:l.transform.y}))}))}static assignInternalProperties(t,n=0){return(Array.isArray(t)?t:[t]).map(i=>{const o=i;return o.__rd3t={id:null,depth:null,collapsed:!1},o.__rd3t.id=Se(),o.__rd3t.depth=n,o.children&&o.children.length>0&&(o.children=K.assignInternalProperties(o.children,n+1)),o})}findNodesById(t,n,r){return r.length>0||(r=r.concat(n.filter(i=>i.__rd3t.id===t)),n.forEach(i=>{i.children&&i.children.length>0&&(r=this.findNodesById(t,i.children,r))})),r}findNodesAtDepth(t,n,r){return r=r.concat(n.filter(i=>i.__rd3t.depth===t)),n.forEach(i=>{i.children&&i.children.length>0&&(r=this.findNodesAtDepth(t,i.children,r))}),r}static collapseNode(t){t.__rd3t.collapsed=!0,t.children&&t.children.length>0&&t.children.forEach(n=>{K.collapseNode(n)})}static expandNode(t){t.__rd3t.collapsed=!1}collapseNeighborNodes(t,n){this.findNodesAtDepth(t.__rd3t.depth,n,[]).filter(i=>i.__rd3t.id!==t.__rd3t.id).forEach(i=>K.collapseNode(i))}generateTree(){const{initialDepth:t,depthFactor:n,separation:r,nodeSize:i,orientation:o}=this.props,{isInitialRenderForDataset:s}=this.state,c=Hi().nodeSize(o==="horizontal"?[i.y,i.x]:[i.x,i.y]).separation((d,f)=>d.parent.data.__rd3t.id===f.parent.data.__rd3t.id?r.siblings:r.nonSiblings)(en(this.state.data[0],d=>d.__rd3t.collapsed?null:d.children));let u=c.descendants();const l=c.links();return t!==void 0&&s&&this.setInitialTreeDepth(u,t),n&&u.forEach(d=>{d.y=d.depth*n}),{nodes:u,links:l}}static calculateD3Geometry(t){let n;return t.zoom>t.scaleExtent.max?n=t.scaleExtent.max:t.zoom<t.scaleExtent.min?n=t.scaleExtent.min:n=t.zoom,{translate:t.translate,scale:n}}render(){const{nodes:t,links:n}=this.generateTree(),{renderCustomNodeElement:r,orientation:i,pathFunc:o,transitionDuration:s,nodeSize:a,depthFactor:c,initialDepth:u,separation:l,enableLegacyTransitions:d,svgClassName:f,pathClassFunc:h}=this.props,{translate:D,scale:b}=this.state.d3,C=Object.assign(Object.assign(Object.assign({},a),l),{depthFactor:c,initialDepth:u});return q.createElement("div",{className:"rd3t-tree-container rd3t-grabbable"},q.createElement("style",null,cc),q.createElement("svg",{className:`rd3t-svg ${this.svgInstanceRef} ${f}`,width:"100%",height:"100%"},q.createElement(Xu,{enableLegacyTransitions:d,component:"g",className:`rd3t-g ${this.gInstanceRef}`,transform:`translate(${D.x},${D.y}) scale(${b})`},n.map((_,m)=>q.createElement(uc,{key:"link-"+m,orientation:i,pathFunc:o,pathClassFunc:h,linkData:_,onClick:this.handleOnLinkClickCb,onMouseOver:this.handleOnLinkMouseOverCb,onMouseOut:this.handleOnLinkMouseOutCb,enableLegacyTransitions:d,transitionDuration:s})),t.map((_,m)=>{const{data:y,x:E,y:w,parent:x}=_;return q.createElement(Qu,{key:"node-"+m,data:y,position:{x:E,y:w},hierarchyPointNode:_,parent:x,nodeClassName:this.getNodeClassName(x,y),renderCustomNodeElement:r,nodeSize:a,orientation:i,enableLegacyTransitions:d,transitionDuration:s,onNodeToggle:this.handleNodeToggle,onNodeClick:this.handleOnNodeClickCb,onNodeMouseOver:this.handleOnNodeMouseOverCb,onNodeMouseOut:this.handleOnNodeMouseOutCb,handleAddChildrenToNode:this.handleAddChildrenToNode,subscriptions:C,centerNode:this.centerNode})}))))}}K.defaultProps={onNodeClick:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onLinkClick:void 0,onLinkMouseOver:void 0,onLinkMouseOut:void 0,onUpdate:void 0,orientation:"horizontal",translate:{x:0,y:0},pathFunc:"diagonal",pathClassFunc:void 0,transitionDuration:500,depthFactor:void 0,collapsible:!0,initialDepth:void 0,zoomable:!0,draggable:!0,zoom:1,scaleExtent:{min:.1,max:1},nodeSize:{x:140,y:140},separation:{siblings:1,nonSiblings:2},shouldCollapseNeighborNodes:!1,svgClassName:"",rootNodeClassName:"",branchNodeClassName:"",leafNodeClassName:"",renderCustomNodeElement:void 0,enableLegacyTransitions:!1,hasInteractiveNodes:!1,dimensions:void 0,centeringTransitionDuration:800,dataKey:void 0};const lc=async()=>[{name:"Start Here",id:"0",children:(await vi.get("/roadmap")).data}],Vr=k.createContext({dragDropManager:void 0});function Z(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Bn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Ee=function(){return Math.random().toString(36).substring(7).split("").join(".")},Vn={INIT:"@@redux/INIT"+Ee(),REPLACE:"@@redux/REPLACE"+Ee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ee()}};function fc(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Xr(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Z(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Z(1));return n(Xr)(e,t)}if(typeof e!="function")throw new Error(Z(2));var i=e,o=t,s=[],a=s,c=!1;function u(){a===s&&(a=s.slice())}function l(){if(c)throw new Error(Z(3));return o}function d(b){if(typeof b!="function")throw new Error(Z(4));if(c)throw new Error(Z(5));var C=!0;return u(),a.push(b),function(){if(C){if(c)throw new Error(Z(6));C=!1,u();var m=a.indexOf(b);a.splice(m,1),s=null}}}function f(b){if(!fc(b))throw new Error(Z(7));if(typeof b.type>"u")throw new Error(Z(8));if(c)throw new Error(Z(9));try{c=!0,o=i(o,b)}finally{c=!1}for(var C=s=a,_=0;_<C.length;_++){var m=C[_];m()}return b}function h(b){if(typeof b!="function")throw new Error(Z(10));i=b,f({type:Vn.REPLACE})}function D(){var b,C=d;return b={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(Z(11));function y(){m.next&&m.next(l())}y();var E=C(y);return{unsubscribe:E}}},b[Bn]=function(){return this},b}return f({type:Vn.INIT}),r={dispatch:f,subscribe:d,getState:l,replaceReducer:h},r[Bn]=D,r}function P(e,t,...n){if(hc()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(t.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function hc(){return typeof process<"u"&&!0}function dc(e,t,n){return t.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,e)}function pc(e,t){return e.filter(n=>n!==t)}function Yr(e){return typeof e=="object"}function gc(e,t){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};e.forEach(r),t.forEach(r);const i=[];return n.forEach((o,s)=>{o===1&&i.push(s)}),i}function mc(e,t){return e.filter(n=>t.indexOf(n)>-1)}const mn="dnd-core/INIT_COORDS",he="dnd-core/BEGIN_DRAG",vn="dnd-core/PUBLISH_DRAG_SOURCE",de="dnd-core/HOVER",pe="dnd-core/DROP",ge="dnd-core/END_DRAG";function Xn(e,t){return{type:mn,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const vc={type:mn,payload:{clientOffset:null,sourceClientOffset:null}};function yc(e){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:o,getSourceClientOffset:s}=r,a=e.getMonitor(),c=e.getRegistry();e.dispatch(Xn(o)),_c(n,a,c);const u=Dc(n,a);if(u==null){e.dispatch(vc);return}let l=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");wc(s),l=s(u)}e.dispatch(Xn(o,l));const f=c.getSource(u).beginDrag(a,u);if(f==null)return;Tc(f),c.pinSource(u);const h=c.getSourceType(u);return{type:he,payload:{itemType:h,item:f,sourceId:u,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!i}}}}function _c(e,t,n){P(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){P(n.getSource(r),"Expected sourceIds to be registered.")})}function wc(e){P(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Tc(e){P(Yr(e),"Item must be an object.")}function Dc(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function bc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bc(e,i,n[i])})}return e}function Sc(e){return function(n={}){const r=e.getMonitor(),i=e.getRegistry();Oc(r),Nc(r).forEach((s,a)=>{const c=Ec(s,a,i,r),u={type:pe,payload:{dropResult:xc({},n,c)}};e.dispatch(u)})}}function Oc(e){P(e.isDragging(),"Cannot call drop while not dragging."),P(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ec(e,t,n,r){const i=n.getTarget(e);let o=i?i.drop(r,e):void 0;return Cc(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function Cc(e){P(typeof e>"u"||Yr(e),"Drop result must either be an object or undefined.")}function Nc(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Ic(e){return function(){const n=e.getMonitor(),r=e.getRegistry();Mc(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:ge}}}function Mc(e){P(e.isDragging(),"Cannot call endDrag while not dragging.")}function Ke(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function Rc(e){return function(n,{clientOffset:r}={}){Pc(n);const i=n.slice(0),o=e.getMonitor(),s=e.getRegistry(),a=o.getItemType();return kc(i,s,a),Ac(i,o,s),Lc(i,o,s),{type:de,payload:{targetIds:i,clientOffset:r||null}}}}function Pc(e){P(Array.isArray(e),"Expected targetIds to be an array.")}function Ac(e,t,n){P(t.isDragging(),"Cannot call hover while not dragging."),P(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const i=e[r];P(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(i);P(o,"Expected targetIds to be registered.")}}function kc(e,t,n){for(let r=e.length-1;r>=0;r--){const i=e[r],o=t.getTargetType(i);Ke(o,n)||e.splice(r,1)}}function Lc(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function $c(e){return function(){if(e.getMonitor().isDragging())return{type:vn}}}function zc(e){return{beginDrag:yc(e),publishDragSource:$c(e),hover:Rc(e),drop:Sc(e),endDrag:Ic(e)}}class Fc{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(o){return(...s)=>{const a=o.apply(t,s);typeof a<"u"&&n(a)}}const i=zc(this);return Object.keys(i).reduce((o,s)=>{const a=i[s];return o[s]=r(a),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Hc(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Kr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uc(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Kr(Hc(t,r),n)}function qc(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Kr(t,n)}const Mt=[],yn=[];Mt.__IS_NONE__=!0;yn.__IS_ALL__=!0;function jc(e,t){return e===Mt?!1:e===yn||typeof t>"u"?!0:mc(t,e).length>0}class Gc{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;P(typeof t=="function","listener must be a function."),P(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const o=()=>{const s=this.store.getState(),a=s.stateId;try{a===i||a===i+1&&!jc(s.dirtyHandlerIds,r)||t()}finally{i=a}};return this.store.subscribe(o)}subscribeToOffsetChange(t){P(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return P(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(P(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),i=this.getItemType();return Ke(r,i)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(P(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),i=this.getItemType();return r!==i?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(t),o=this.getItemType();if(o&&!Ke(i,o))return!1;const s=this.getTargetIds();if(!s.length)return!1;const a=s.indexOf(t);return r?a===s.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Uc(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return qc(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const Yn=typeof global<"u"?global:self,Qr=Yn.MutationObserver||Yn.WebKitMutationObserver;function Zr(e){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),e()}}}function Wc(e){let t=1;const n=new Qr(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Bc=typeof Qr=="function"?Wc:Zr;class Vc{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,i=t.length-this.index;r<i;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Bc(this.flush),this.requestErrorThrow=Zr(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Xc{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class Yc{create(t){const n=this.freeTasks,r=n.length?n.pop():new Xc(this.onError,i=>n[n.length]=i);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Jr=new Vc,Kc=new Yc(Jr.registerPendingError);function Qc(e){Jr.enqueueTask(Kc.create(e))}const _n="dnd-core/ADD_SOURCE",wn="dnd-core/ADD_TARGET",Tn="dnd-core/REMOVE_SOURCE",me="dnd-core/REMOVE_TARGET";function Zc(e){return{type:_n,payload:{sourceId:e}}}function Jc(e){return{type:wn,payload:{targetId:e}}}function tl(e){return{type:Tn,payload:{sourceId:e}}}function el(e){return{type:me,payload:{targetId:e}}}function nl(e){P(typeof e.canDrag=="function","Expected canDrag to be a function."),P(typeof e.beginDrag=="function","Expected beginDrag to be a function."),P(typeof e.endDrag=="function","Expected endDrag to be a function.")}function rl(e){P(typeof e.canDrop=="function","Expected canDrop to be a function."),P(typeof e.hover=="function","Expected hover to be a function."),P(typeof e.drop=="function","Expected beginDrag to be a function.")}function Qe(e,t){if(t&&Array.isArray(e)){e.forEach(n=>Qe(n,!1));return}P(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var J;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(J||(J={}));let il=0;function ol(){return il++}function sl(e){const t=ol().toString();switch(e){case J.SOURCE:return`S${t}`;case J.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Kn(e){switch(e[0]){case"S":return J.SOURCE;case"T":return J.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Qn(e,t){const n=e.entries();let r=!1;do{const{done:i,value:[,o]}=n.next();if(o===t)return!0;r=!!i}while(!r);return!1}class al{addSource(t,n){Qe(t),nl(n);const r=this.addHandler(J.SOURCE,t,n);return this.store.dispatch(Zc(r)),r}addTarget(t,n){Qe(t,!0),rl(n);const r=this.addHandler(J.TARGET,t,n);return this.store.dispatch(Jc(r)),r}containsHandler(t){return Qn(this.dragSources,t)||Qn(this.dropTargets,t)}getSource(t,n=!1){return P(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return P(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return P(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return P(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Kn(t)===J.SOURCE}isTargetId(t){return Kn(t)===J.TARGET}removeSource(t){P(this.getSource(t),"Expected an existing source."),this.store.dispatch(tl(t)),Qc(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){P(this.getTarget(t),"Expected an existing target."),this.store.dispatch(el(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);P(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){P(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const i=sl(t);return this.types.set(i,n),t===J.SOURCE?this.dragSources.set(i,r):t===J.TARGET&&this.dropTargets.set(i,r),i}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const ul=(e,t)=>e===t;function cl(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function ll(e,t,n=ul){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function fl(e=Mt,t){switch(t.type){case de:break;case _n:case wn:case me:case Tn:return Mt;case he:case vn:case ge:case pe:default:return yn}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,i=gc(n,r);if(!(i.length>0||!ll(n,r)))return Mt;const s=r[r.length-1],a=n[n.length-1];return s!==a&&(s&&i.push(s),a&&i.push(a)),i}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){hl(e,i,n[i])})}return e}const Zn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function pl(e=Zn,t){const{payload:n}=t;switch(t.type){case mn:case he:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case de:return cl(e.clientOffset,n.clientOffset)?e:dl({},e,{clientOffset:n.clientOffset});case ge:case pe:return Zn;default:return e}}function gl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){gl(e,i,n[i])})}return e}const ml={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function vl(e=ml,t){const{payload:n}=t;switch(t.type){case he:return wt({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case vn:return wt({},e,{isSourcePublic:!0});case de:return wt({},e,{targetIds:n.targetIds});case me:return e.targetIds.indexOf(n.targetId)===-1?e:wt({},e,{targetIds:pc(e.targetIds,n.targetId)});case pe:return wt({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case ge:return wt({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function yl(e=0,t){switch(t.type){case _n:case wn:return e+1;case Tn:case me:return e-1;default:return e}}function _l(e=0){return e+1}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){wl(e,i,n[i])})}return e}function Dl(e={},t){return{dirtyHandlerIds:fl(e.dirtyHandlerIds,{type:t.type,payload:Tl({},t.payload,{prevTargetIds:dc(e,"dragOperation.targetIds",[])})}),dragOffset:pl(e.dragOffset,t),refCount:yl(e.refCount,t),dragOperation:vl(e.dragOperation,t),stateId:_l(e.stateId)}}function bl(e,t=void 0,n={},r=!1){const i=xl(r),o=new Gc(i,new al(i)),s=new Fc(i,o),a=e(s,t,n);return s.receiveBackend(a),s}function xl(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Xr(Dl,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Sl(e,t){if(e==null)return{};var n=Ol(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ol(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}let Jn=0;const Zt=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var El=k.memo(function(t){var{children:n}=t,r=Sl(t,["children"]);const[i,o]=Cl(r);return k.useEffect(()=>{if(o){const s=ti();return++Jn,()=>{--Jn===0&&(s[Zt]=null)}}},[]),H.jsx(Vr.Provider,{value:i,children:n})});function Cl(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Nl(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Nl(e,t=ti(),n,r){const i=t;return i[Zt]||(i[Zt]={dragDropManager:bl(e,t,n,r)}),i[Zt]}function ti(){return typeof global<"u"?global:window}var Il=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const Ml=or(Il),_t=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Rl(e,t,n){const[r,i]=k.useState(()=>t(e)),o=k.useCallback(()=>{const s=t(e);Ml(r,s)||(i(s),n&&n())},[r,e,n]);return _t(o),[r,o]}function Pl(e,t,n){const[r,i]=Rl(e,t,n);return _t(function(){const s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(i,{handlerIds:[s]})},[e,i]),r}function ei(e,t,n){return Pl(t,e||(()=>({})),()=>n.reconnect())}function ni(e,t){const n=[...t||[]];return t==null&&typeof e!="function"&&n.push(e),k.useMemo(()=>typeof e=="function"?e():e,n)}function Al(e){return k.useMemo(()=>e.hooks.dragSource(),[e])}function kl(e){return k.useMemo(()=>e.hooks.dragPreview(),[e])}let Ce=!1,Ne=!1;class Ll{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){P(!Ce,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ce=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ce=!1}}isDragging(){if(!this.sourceId)return!1;P(!Ne,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ne=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ne=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Ie=!1;class $l{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;P(!Ie,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ie=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ie=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function zl(e,t,n){const r=n.getRegistry(),i=r.addTarget(e,t);return[i,()=>r.removeTarget(i)]}function Fl(e,t,n){const r=n.getRegistry(),i=r.addSource(e,t);return[i,()=>r.removeSource(i)]}function Ze(e,t,n,r){let i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<o.length;c++){const u=o[c];if(!a(u))return!1;const l=e[u],d=t[u];if(i=n?n.call(r,l,d,u):void 0,i===!1||i===void 0&&l!==d)return!1}return!0}function Je(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Hl(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function Ul(e){return(t=null,n=null)=>{if(!k.isValidElement(t)){const o=t;return e(o,n),o}const r=t;return Hl(r),ql(r,n?o=>e(o,n):e)}}function ri(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const i=Ul(r);t[n]=()=>i}}),t}function tr(e,t){typeof e=="function"?e(t):e.current=t}function ql(e,t){const n=e.ref;return P(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?k.cloneElement(e,{ref:r=>{tr(n,r),tr(t,r)}}):k.cloneElement(e,{ref:t})}class jl{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ze(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ze(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=ri({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Je(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Je(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Gl{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ze(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=ri({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Je(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function St(){const{dragDropManager:e}=k.useContext(Vr);return P(e!=null,"Expected drag drop context"),e}function Wl(e,t){const n=St(),r=k.useMemo(()=>new jl(n.getBackend()),[n]);return _t(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),_t(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function Bl(){const e=St();return k.useMemo(()=>new Ll(e),[e])}class Vl{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,i=this.monitor,{isDragging:o}=r;return o?o(i):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:i}=t;i&&i(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function Xl(e,t,n){const r=k.useMemo(()=>new Vl(e,t,n),[t,n]);return k.useEffect(()=>{r.spec=e},[e]),r}function Yl(e){return k.useMemo(()=>{const t=e.type;return P(t!=null,"spec.type must be defined"),t},[e])}function Kl(e,t,n){const r=St(),i=Xl(e,t,n),o=Yl(e);_t(function(){if(o!=null){const[a,c]=Fl(o,i,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),c}},[r,t,n,i,o])}function Ql(e,t){const n=ni(e,t);P(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=Bl(),i=Wl(n.options,n.previewOptions);return Kl(n,r,i),[ei(n.collect,r,i),Al(i),kl(i)]}function Zl(e){return k.useMemo(()=>e.hooks.dropTarget(),[e])}function Jl(e){const t=St(),n=k.useMemo(()=>new Gl(t.getBackend()),[t]);return _t(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function tf(){const e=St();return k.useMemo(()=>new $l(e),[e])}function ef(e){const{accept:t}=e;return k.useMemo(()=>(P(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class nf{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function rf(e,t){const n=k.useMemo(()=>new nf(e,t),[t]);return k.useEffect(()=>{n.spec=e},[e]),n}function of(e,t,n){const r=St(),i=rf(e,t),o=ef(e);_t(function(){const[a,c]=zl(o,i,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),c},[r,t,i,n,o.map(s=>s.toString()).join("|")])}function sf(e,t){const n=ni(e,t),r=tf(),i=Jl(n.options);return of(n,r,i),[ei(n.collect,r,i),Zl(i)]}const af=({nodeDatum:e,toggleNode:t,onNodeDrop:n})=>{const r=k.useRef(null),[,i]=sf({accept:"NODE",drop:a=>{n(a,e)}}),[{isDragging:o},s]=Ql({type:"NODE",item:{id:e.id,type:"NODE"},collect:a=>({isDragging:a.isDragging()})});return s(i(r)),H.jsxs("g",{ref:r,onClick:()=>t(),style:{opacity:o?.5:1,cursor:"move"},children:[H.jsx("rect",{width:100,height:50,stroke:"black",fill:"white"}),H.jsx("foreignObject",{x:"0",y:"0",width:100,height:50,children:H.jsxs("div",{style:{width:"100px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",padding:"2px"},children:[e.name,H.jsx("button",{onClick:a=>{a.stopPropagation(),console.log("you clicked:",e.id,e.name)},children:"✓"})]})})]})},uf=()=>{const e=k.useRef(null),[t,n]=k.useState({x:0,y:0});return k.useEffect(()=>{const r=()=>{if(e.current){const{clientWidth:o,clientHeight:s}=e.current;n({x:o/2,y:s/2})}},i=cf(r,100);return window.addEventListener("resize",i),r(),()=>{window.removeEventListener("resize",i)}},[]),{treeWrapperRef:e,translate:t}};function cf(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e(...r),t)}}function ii(e){let t=null;return()=>(t==null&&(t=e()),t)}function lf(e,t){return e.filter(n=>n!==t)}function ff(e,t){const n=new Set,r=o=>n.add(o);e.forEach(r),t.forEach(r);const i=[];return n.forEach(o=>i.push(o)),i}class hf{enter(t){const n=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(t));return this.entered=ff(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=lf(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class df{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(n[r]={value:i(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const oi="__NATIVE_FILE__",si="__NATIVE_URL__",ai="__NATIVE_TEXT__",ui="__NATIVE_HTML__",er=Object.freeze(Object.defineProperty({__proto__:null,FILE:oi,HTML:ui,TEXT:ai,URL:si},Symbol.toStringTag,{value:"Module"}));function Me(e,t,n){const r=t.reduce((i,o)=>i||e.getData(o),"");return r??n}const tn={[oi]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[ui]:{exposeProperties:{html:(e,t)=>Me(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[si]:{exposeProperties:{urls:(e,t)=>Me(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[ai]:{exposeProperties:{text:(e,t)=>Me(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function pf(e,t){const n=tn[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new df(n);return r.loadDataTransfer(t),r}function Re(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(tn).filter(n=>{const r=tn[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>t.indexOf(i)>-1):!1})[0]||null}const gf=ii(()=>/firefox/i.test(navigator.userAgent)),ci=ii(()=>!!window.safari);class nr{interpolate(t){const{xs:n,ys:r,c1s:i,c2s:o,c3s:s}=this;let a=n.length-1;if(t===n[a])return r[a];let c=0,u=s.length-1,l;for(;c<=u;){l=Math.floor(.5*(c+u));const h=n[l];if(h<t)c=l+1;else if(h>t)u=l-1;else return r[l]}a=Math.max(0,u);const d=t-n[a],f=d*d;return r[a]+i[a]*d+o[a]*f+s[a]*d*f}constructor(t,n){const{length:r}=t,i=[];for(let h=0;h<r;h++)i.push(h);i.sort((h,D)=>t[h]<t[D]?-1:1);const o=[],s=[];let a,c;for(let h=0;h<r-1;h++)a=t[h+1]-t[h],c=n[h+1]-n[h],o.push(a),s.push(c/a);const u=[s[0]];for(let h=0;h<o.length-1;h++){const D=s[h],b=s[h+1];if(D*b<=0)u.push(0);else{a=o[h];const C=o[h+1],_=a+C;u.push(3*_/((_+C)/D+(_+a)/b))}}u.push(s[s.length-1]);const l=[],d=[];let f;for(let h=0;h<u.length-1;h++){f=s[h];const D=u[h],b=1/o[h],C=D+u[h+1]-f-f;l.push((f-D-C)*b),d.push(C*b*b)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=l,this.c3s=d}}const mf=1;function li(e){const t=e.nodeType===mf?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Bt(e){return{x:e.clientX,y:e.clientY}}function vf(e){var t;return e.nodeName==="IMG"&&(gf()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function yf(e,t,n,r){let i=e?t.width:n,o=e?t.height:r;return ci()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function _f(e,t,n,r,i){const o=vf(t),a=li(o?e:t),c={x:n.x-a.x,y:n.y-a.y},{offsetWidth:u,offsetHeight:l}=e,{anchorX:d,anchorY:f}=r,{dragPreviewWidth:h,dragPreviewHeight:D}=yf(o,t,u,l),b=()=>{let x=new nr([0,.5,1],[c.y,c.y/l*D,c.y+D-l]).interpolate(f);return ci()&&o&&(x+=(window.devicePixelRatio-1)*D),x},C=()=>new nr([0,.5,1],[c.x,c.x/u*h,c.x+h-u]).interpolate(d),{offsetX:_,offsetY:m}=i,y=_===0||_,E=m===0||m;return{x:y?_:C(),y:E?m:b()}}class wf{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function Tf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Tf(e,i,n[i])})}return e}class Df{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const i=s=>this.handleDragStart(s,t),o=s=>this.handleSelectStart(s);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=s=>this.handleDragEnter(s,t),i=s=>this.handleDragOver(s,t),o=s=>this.handleDrop(s,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",i),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",i),n.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return rr({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return rr({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(er).some(n=>er[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=pf(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const o=this.sourceNodes.get(i);return o&&li(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const s=Bt(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:a}=i,c=Re(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const l=this.monitor.getSourceId(),d=this.sourceNodes.get(l),f=this.sourcePreviewNodes.get(l)||d;if(f){const{anchorX:h,anchorY:D,offsetX:b,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),y=_f(d,f,s,{anchorX:h,anchorY:D},{offsetX:b,offsetY:C});a.setDragImage(f,y.x,y.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,c=Re(a);c&&this.beginDragNativeItem(c,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,o.length>0&&this.actions.hover(o,{clientOffset:Bt(i)}),o.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=Bt(i),this.scheduleHover(o),(o||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;i.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(i.dataTransfer)}else Re(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:Bt(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const o=i.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(i.preventDefault(),o.dragDrop()))},this.options=new wf(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new hf(this.isNodeInDocument)}}const bf=function(t,n,r){return new Df(t,n,r)},ir=()=>{const[e,t]=k.useState(),[,n]=k.useState(!1),[r,i]=k.useState(!0),[o,s]=k.useState(null),{treeWrapperRef:a,translate:c}=uf();k.useEffect(()=>{(async()=>{try{i(!0);const d=await lc();t(d),s(null),n(!0)}catch(d){s(d instanceof Error?d.message:"An unknown error occurred")}finally{i(!1)}})()},[]);const u=(l,d)=>{console.log(`Dropped node ${l.id} on node ${d.id}`)};return H.jsx(El,{backend:bf,children:H.jsx("div",{className:"RoadmapTree",children:r?H.jsx(fi,{}):o?H.jsxs("div",{children:["Error: ",o]}):H.jsx("div",{ref:a,id:"treeWrapper",style:{width:"100%",height:"70vh"},children:H.jsx(K,{data:e,translate:c,orientation:"vertical",pathFunc:"step",initialDepth:0,transitionDuration:500,rootNodeClassName:"node__root",branchNodeClassName:"node__branch",leafNodeClassName:"node__leaf",renderCustomNodeElement:l=>{const d=l.nodeDatum,f=l.toggleNode;return H.jsx(af,{nodeDatum:d,toggleNode:f,onNodeDrop:u})}})})})})};function If(){return H.jsxs(H.Fragment,{children:[H.jsx(pi,{children:H.jsx(ir,{})}),H.jsx(gi,{children:H.jsxs("div",{className:"Roadmap",children:[H.jsx("h1",{children:"Roadmap"}),H.jsx("p",{children:"You need to login to see the secret message :P"}),H.jsx(mi,{}),H.jsx(ir,{})]})})]})}export{If as Roadmap,If as default};
