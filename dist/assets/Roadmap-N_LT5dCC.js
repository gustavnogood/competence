import{j as e,L as l}from"./index-kLZUJ_UM.js";import{r as n}from"./react-CEANxv1G.js";import{A as m,U as x}from"./UnauthenticatedTemplate-CVWzKKhS.js";import h from"./Login-Ctcn-HQK.js";import{a as j}from"./axiosInstance-B3xBiW3s.js";import"./axios-Bo0ATomq.js";const f=({skill:s})=>e.jsxs("div",{children:[e.jsx("h4",{children:s.name}),e.jsx("p",{children:s.description})]}),u=({role:s})=>e.jsxs("div",{children:[e.jsx("h3",{children:s.name}),e.jsx("p",{children:s.description}),s.skills.map(r=>e.jsx(f,{skill:r},r.skillId))]}),g=({roadmap:s})=>e.jsxs("div",{children:[e.jsx("h2",{children:s.name}),e.jsx("p",{children:s.description}),s.roles.map(r=>e.jsx(u,{role:r},r.roleId))]}),R=()=>{const[s,r]=n.useState([]),[c,p]=n.useState(!0),[d,a]=n.useState(null);return n.useEffect(()=>{(async()=>{try{const i=await j.get("/roadmap");r(i.data),a(null)}catch(i){const t=i;console.error("Failed to fetch roadmaps:",t),t.response?t.response.data?typeof t.response.data=="object"?a(JSON.stringify(t.response.data)):a(t.response.data):a("No data received from server"):a(t.message||"An unexpected error occurred")}finally{p(!1)}})()},[]),e.jsx("div",{children:c?e.jsx(l,{}):d?e.jsxs("div",{children:["Error: ",d]}):s.map(o=>e.jsx(g,{roadmap:o},o.id))})};function A(){return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsxs(x,{children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Roadmap"}),e.jsx("p",{children:"You need to login to see the secret message :P"}),e.jsx(h,{})]}),e.jsx(R,{})]})]})}export{A as Roadmap,A as default};
